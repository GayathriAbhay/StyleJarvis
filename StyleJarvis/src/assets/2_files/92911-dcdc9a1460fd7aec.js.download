"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["92911"],{915131:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){throw Error(null!=n?n:"Unexpected value in assertNever: ".concat(JSON.stringify(e)))}},454536:function(e,n,t){t.d(n,{G:function(){return W},Z:function(){return X}});var r=t(981315),a=t.n(r),o=t(408192),i=t(412007);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,l=[],u=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return s(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},p=/(\d\d0P)(\d\d0K)/,y=/QVBR(8|10)/,g=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,m=/^v/,v=function(e){var n;return null!=(n=d[e])?n:e.replace(g,"_$1").replace(p,"$1_$2").replace(y,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(m,"V")},h=/[A-Z]/g,S=/^_/,b=function(e){return e.replace(h,function(e){return"_".concat(e.toLowerCase())}).replace(S,"")},I=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],k=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],L=function(e,n){if(k.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return a()(n.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return b(e)}},C=function(e){return"StoryPinPage"===e||"StoryPinImageBlock"===e},A=function(e,n,t){if(C(t)){if("images"===e)return"image";else if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===t&&"image"===e)return"images";if("VideoDetail"===n)return v(e);if(I.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoDataV2":return"video";case"formattedCloseupDescription":return"formatted_description";case"annotationsWithLinksArray":return"annotations_with_links";default:return b(e)}},_=function(e,n){switch(e){case"reactionType":return"string"==typeof n?Number(n):n;case"campaignId":case"pinPromotionId":return"number"==typeof n?String(n):n;default:return n}},D=function(e,n,t){if("Video"===n&&"duration"===e){var r;return(null==t?void 0:t.duration)!=null?t.duration:null==(r=Object.values((null==t?void 0:t.video_list)||{}).find(function(e){return(null==e?void 0:e.duration)!=null}))?void 0:r.duration}return"__typename"===e?null!=n?n:function(e){if(!e)return null;if("string"==typeof e.type)return(0,i.dF)(e.type);if("number"==typeof e.block_type){var n=e.block_type.toString();return n in F?F[n]:null}return null}(t):_(e,null==t?void 0:t[L(e,t)])},E=function(e){var n=e.untypedInput,t=e.concreteType;if(!n)return null;switch(a()("object"===f(n),"legacy data must be an object"),t){case"AnnotationsWithLinks":return Object.entries(n).map(function(e){var n=c(e,2),t=(n[0],n[1]);return{name:t.name,url:t.url}});case"MessageReactions":if(Array.isArray(n)&&n.length>0)return n.flatMap(function(e){return Object.keys(e).map(function(n){return{user_id:n,reaction_text:e[n]}})});return null;case"ReactionCountModel":return Object.entries(n).map(function(e){var n=c(e,2);return{reaction_type:n[0],reaction_count:n[1]}});case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(n).map(function(e){var n=c(e,2);return{key:n[0],data:n[1]}});case"DescriptionSpecDetail":if(Array.isArray(n)){var r=[];return n.forEach(function(e){if(e)for(var n=Object.entries(e),t=0;t<n.length;t++){var a=n[t];r.push({key:a[0],value:a[1]})}}),r}return Object.entries(n).map(function(e){var n=c(e,2);return{key:n[0],value:n[1]}});default:if(Array.isArray(n))return n;return Object.entries(n).map(function(e){var n=c(e,2);return{key:n[0],value:n[1]}})}},O=function(e){var n=e.args,t=e.name,r=n.find(function(e){return e.name===t});return r&&"string"==typeof r.value?r.value:null},P=function(e,n,t){var r,o=t.args,i=t.name,l=t.plural;if("PinTagChipImagesPerSpec"===n&&"image"===i)return null==e||null==(r=e.images)?void 0:r["750x"];var c=null==e?void 0:e[A(i,t.concreteType,n)];if(!c)return c;if("collaboratingUsers"===i){var s=null==e?void 0:e.collaborating_users;return null==s?null:{kind:"user_collaborating_users_connection_container",connection:{edges:s.map(function(e){return{node:e}})}}}var d=O({args:null!=o?o:[],name:"spec"});if(d){if(a()("object"===f(c),"value must be an object"),C(n)){var p=c.dominant_color,y=c.images;if(!y)return y;a()("object"===f(y),"images must be an object");var g=y["orig"===d?"originals":d];return g&&p?u(u({},g),{},{dominant_color:p}):g}return l&&Array.isArray(c)?c.map(function(e){return e[d]}).filter(function(e){return null!=e}):c[d]}return c},T={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata",ConversationMessage:"Message"},R={tempmessage:"message"},H=["article","board","pin","story"],w=function(e,n){var t,r;return(null!=(t=T[e])?t:e).toLowerCase()===(null!=(r=R[n])?r:n)},F={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},x=/_/g,B=function(e){if("schema"in e&&"string"==typeof e.schema)return e.schema.toLowerCase();if("string"==typeof e.type)return e.type.replace(x,"").toLowerCase();if("number"==typeof e.block_type){var n=e.block_type.toString();return n in F?F[n].toLowerCase():void 0}},j=t(945474),V=t(756079),N=t(848171),M=t(477078),U=t(603316);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var W=Symbol("inlineFragmentSpread"),Z=function e(n){var t,r=n.conditionContext,o=n.fragmentName,i=n.mutableOutput,l=n.parentType,u=n.selections,c=n.legacyData,s=n.paginationInfo,f=n.refetchInfo,d=n.getDataFromRedux,p=n.defaultShouldInclude,y=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Q(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(e,void 0):void 0}}(e))){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}(u);try{for(y.s();!(t=y.n()).done;){var g=t.value;switch(g.kind){case"ScalarField":var m=g.alias,v=g.name;i[null!=m?m:v]=D(v,l,c);break;case"LinkedField":var h=function(){var n=g.alias,t=g.name,u=g.concreteType,y=g.plural,m=g.selections,v=null!=n?n:t,h=P(c,l,g);if(null==h)return i[v]=h,"break";if(y){var S=E({untypedInput:h,concreteType:u}),b=i[v];a()(!b||Array.isArray(b),"plural data must be an array"),i[v]=null==S?void 0:S.filter(Boolean).map(function(n,t){var a,i=null!=(a=null==b?void 0:b[t])?a:{};return e({conditionContext:r,fragmentName:o,mutableOutput:i,parentType:u,selections:m,legacyData:n,refetchInfo:f,paginationInfo:s,getDataFromRedux:d,defaultShouldInclude:p}),i})}else{a()("object"===G(h),"Value for ".concat(t," must be an object").concat(u?" with type ".concat(u):"",", but a ").concat(G(h)," is given"));var I,k=null!=(I=i[v])?I:{},L=e({conditionContext:r,fragmentName:o,mutableOutput:k,parentType:u,selections:m,legacyData:h,refetchInfo:f,paginationInfo:s,getDataFromRedux:d,defaultShouldInclude:p});"HasMissingData"===L?i[v]=null:i[v]=k}return"break"}();if("break"===h)break;case"InlineFragment":var S,b,I=g.abstractKey,k=g.type,L=g.selections;if(a()(null!=k&&null===I,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==c)break;var C=c;S=C,"schema"in S&&"string"==typeof S.schema&&H.includes(S.schema)&&(C=null!=(b=d(C.id,C.schema))?b:c);var A=B(C);if(null!=A&&w(k,A)){var _=e({conditionContext:r,fragmentName:o,mutableOutput:i,parentType:k,selections:L,legacyData:C,paginationInfo:s,refetchInfo:f,getDataFromRedux:d,defaultShouldInclude:p});if("HasMissingData"===_)return"HasMissingData"}break;case"Condition":var O=g.selections;if((0,j.W)(g,r,p)){var T=e({conditionContext:r,fragmentName:o,mutableOutput:i,parentType:l,selections:O,legacyData:c,paginationInfo:s,refetchInfo:f,getDataFromRedux:d,defaultShouldInclude:p});if("HasMissingData"===T)return"HasMissingData"}break;case"FragmentSpread":(0,N.I9)(i,{kind:"LegacyData",singularLegacyData:c,refetchInfo:f,paginationInfo:s});break;case"ClientExtension":var R=e({conditionContext:r,fragmentName:o,mutableOutput:i,parentType:l,selections:g.selections,legacyData:c,paginationInfo:s,refetchInfo:f,getDataFromRedux:d,defaultShouldInclude:p});if("HasMissingData"===R)return"HasMissingData";break;case"InlineDataFragmentSpread":var F={},x=g.selections,V=g.name,M=e({conditionContext:r,fragmentName:V,mutableOutput:F,parentType:l,selections:x,legacyData:c,paginationInfo:s,refetchInfo:f,getDataFromRedux:d,defaultShouldInclude:p});if("HasMissingData"===M)return"HasMissingData";i[W]||(i[W]={}),i[W][V]=F;break;case"RequiredField":e({conditionContext:r,fragmentName:o,mutableOutput:i,parentType:l,selections:[g.field],legacyData:c,paginationInfo:s,refetchInfo:f,getDataFromRedux:d,defaultShouldInclude:p});var U,Z=i[null!=(U=g.field.alias)?U:g.field.name];if(null==Z)if("THROW"!==g.action)return"HasMissingData";else throw Error("Required field is null or undefined");break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"ClientEdge":throw Error("The selection type '".concat(g.kind,"' is not supported yet. Contact @jackhsu or @robertbalicki"));default:throw Error("Unexpected selection type")}}}catch(e){y.e(e)}finally{y.f()}return"NoMissingData"},K=new Set;function X(e){var n,t=e.conditionContext,r=e.fragment,i=e.legacyData,l=e.paginationInfo,u=e.refetchInfo,c=e.stableReferencesExperimentStatus,s=e.getDataFromRedux,f=e.defaultShouldInclude,d=(0,o.getFragment)(r);try{n=function(e){var n=e.conditionContext,t=e.fragment,r=e.legacyData,o=e.paginationInfo,i=e.refetchInfo,l=e.getDataFromRedux,u=e.defaultShouldInclude;if(null==t.abstractKey){var c=null!=r?B(r):null;null!=c&&a()(w(t.type,c),"fragment data type '".concat(t.type,"' does not match legacy data ")+"type '".concat(c,"'. See ")+"http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.")}var s={};return"NoMissingData"===Z({conditionContext:n,fragmentName:t.name,mutableOutput:s,parentType:t.type,selections:t.selections,legacyData:r,paginationInfo:o,refetchInfo:i,getDataFromRedux:l,defaultShouldInclude:u})?s:null}({conditionContext:t,fragment:d,legacyData:i,paginationInfo:l,refetchInfo:u,getDataFromRedux:s,defaultShouldInclude:f})}catch(e){throw K.has(d.name)||(K.add(d.name),(0,U.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:d.name,rootId:i.id,rootType:i.type,url:window.location.href,isAuth:t.isAuth}})),e}var p=i.id;if(!(null!=c&&c.shouldCalculateStableReferences)||!p)return n;if(!n)return null;var y=(0,M._0)(d,i.id),g=(0,V.Z)({cacheKey:y,data:n,fragment:d});return null!=c&&c.shouldUseStableReferences?g:n}},945474:function(e,n,t){t.d(n,{H:function(){return o},W:function(){return a}});var r=t(675973),a=function(e,n,t){var r=e.condition,a=e.passingValue,o=n[r];return void 0===o?t:o===a};function o(){return(0,(0,r.Z)().checkExperiment)("relay_migration_api_default_should_include").anyEnabled}},562399:function(e,n,t){t.d(n,{Z:function(){return function e(n,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={};return!function n(t,c,s,d){var p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.map(function(e){return"RequiredField"===e.kind?e.field:e}),r=u(t.reduce(function(e,n){return"InlineFragment"===n.kind?e[0].push(n):e[1].push(n),e},[[],[]]),2),a=r[0],o=r[1];if(1===a.length){var i=u(f(o),2),c=i[0];if(0===i[1].length){var s=u(f(a[0].selections),2),d=s[0],p=s[1],y=[].concat(l(c),l(d));return 0===y.length?{kind:"Uncategorized"}:{kind:"InlineFragmentWithTypename",typenameAliases:y,selections:p,concreteType:a[0].type,remainingPathCount:n}}}else if(1===t.length&&(null==(I=t[0])?void 0:I.kind)==="Condition"){var g=t[0];if(!g||"Condition"!==g.kind)throw Error("Error on @skip/@include directive");return{kind:"OnlyConditionWrapper",selections:g.selections,remainingPathCount:n}}else if(1===t.length&&"LinkedField"===t[0].kind){var m=t[0],v=null!=(k=m.concreteType)?k:null;if(m.plural&&1!==n)return{kind:"Uncategorized"};if(null==v)return{kind:"OnlyLinkedFieldAndTypename",selections:m.selections,name:m.name,concreteTypeAndAliases:null,remainingPathCount:null==n?null:n-1};var h=u(f(m.selections),2),S=h[0],b=h[1];if(1===n){var I,k,L,C,A=null!=(L=m.alias)?L:m.name,_=function(e){if(0===e.length||e.length>2||e.some(function(e){return"LinkedField"!==e.kind}))throw Error("Unexpected selections");var n=e.reduce(function(e,n){if("pageInfo"===n.name){if(null!==e.pageInfoSelection)throw Error("Expected only one pageInfo selection");e.pageInfoSelection=n}else{if(null!==e.edgeSelection)throw Error("Expected only one edge selection");e.edgeSelection=n}return e},{pageInfoSelection:null,edgeSelection:null});if(n.edgeSelection&&!n.edgeSelection.selections.find(function(e){return"node"===e.name}))throw Error("Expected to find a node field inside of edges");return{pageInfoSelection:n.pageInfoSelection,edgeSelection:n.edgeSelection}}(b),D=_.pageInfoSelection,E=_.edgeSelection;if(null===E)throw Error("No edges found in connection field");var O=null!=(C=E.alias)?C:E.name,P=m.concreteType;if(null==P&&S.length>0)throw Error("No concrete type found in connection field, so we cannot have __typename");var T=null!=P?{concreteType:P,typenameAliases:S}:null;return{kind:"ConnectionFieldAndTypename",selections:E.selections.filter(function(e){return"ScalarField"!==e.kind||"cursor"!==e.name}),pageInfoSelection:D,nameOrAliasOfEdgesField:O,nameOrAliasOfConnectionField:A,concreteTypeAndAliases:T}}return{kind:"OnlyLinkedFieldAndTypename",selections:b,name:m.name,concreteTypeAndAliases:{concreteType:v,typenameAliases:S},remainingPathCount:null==n?null:n-1}}else if(t.length>0&&t.every(function(e){return"FragmentSpread"===e.kind}))return{kind:"OnlyFragmentSpread"};return{kind:"Uncategorized"}}(t,d);switch(p.kind){case"OnlyConditionWrapper":n(p.selections,c,s,p.remainingPathCount);break;case"InlineFragmentWithTypename":var y=p.concreteType,g=p.typenameAliases,m=p.selections,v=p.remainingPathCount;g.forEach(function(e){return c[e]=y}),n(m,c,s,v);break;case"OnlyFragmentSpread":(0,a.I9)(c,s);break;case"OnlyLinkedFieldAndTypename":var h=p.name,S=p.selections,b=p.concreteTypeAndAliases,I=p.remainingPathCount,k={};if(c[h]=k,b&&b.typenameAliases.length>0){var L,C=b.concreteType,A=i(b.typenameAliases);try{for(A.s();!(L=A.n()).done;)k[L.value]=C}catch(e){A.e(e)}finally{A.f()}}n(S,k,s,I);break;case"ConnectionFieldAndTypename":var _=p.nameOrAliasOfEdgesField,D=p.nameOrAliasOfConnectionField,E=p.pageInfoSelection,O=p.selections,P=p.concreteTypeAndAliases;if("PaginationLegacyData"!==s.kind)throw Error("Error, expected a PaginationLegacyData kind for this query");var T=(H={},w=_,F=s.paginationLegacyData.map(function(n){return e(O,{kind:"LegacyData",refetchInfo:s.refetchInfo,paginationInfo:s.paginationInfo,singularLegacyData:n})}),(R=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(w,"string"),(w="symbol"==o(R)?R:R+"")in H)?Object.defineProperty(H,w,{value:F,enumerable:!0,configurable:!0,writable:!0}):H[w]=F,H);if(E&&s.paginationInfo&&(T[null!=(x=E.alias)?x:E.name]=null),null!=P){var R,H,w,F,x,B,j=P.concreteType,V=i(P.typenameAliases);try{for(V.s();!(B=V.n()).done;)T[B.value]=j}catch(e){V.e(e)}finally{V.f()}}c[D]=T;break;case"Uncategorized":throw Error("The query passed to useLazyLoadQueryOrLegacy contained unsupported/uncategorized elements. Please simplify the query.");default:(0,r.Z)(p,"Unexpected category")}}(n,s,t,c),s}}});var r=t(915131),a=t(848171);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=c(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,l=[],u=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,n)||c(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return s(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function f(e){return e.reduce(function(e,n){if("ScalarField"===n.kind&&"__typename"===n.name){var t;e[0].push(null!=(t=n.alias)?t:n.name)}else e[1].push(n);return e},[[],[]])}},221020:function(e,n,t){t.d(n,{g:function(){return a},o:function(){return o}});var r=t(848171);function a(e){if(Array.isArray(e)){var n=e[0];if(null==n)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=n.__fragments)return{kind:"GraphQL",data:e};var t=(0,r.G5)(n);if(null!=t)return{kind:"PluralLegacy",data:e.map(function(e){var n=(0,r.Be)(e);if("LegacyData"===n.kind)return n.singularLegacyData;throw Error("Unexpected plural object")}),paginationInfo:t.paginationInfo,refetchInfo:t.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}var a=(0,r.G5)(e);if(null!=a&&"LegacyData"===a.kind)return{kind:"SingularLegacy",data:a.singularLegacyData,refetchInfo:a.refetchInfo,paginationInfo:a.paginationInfo};if(e.__fragments)return{kind:"GraphQL",data:e};if("GraphQL"===e.type)return{kind:"GraphQL",data:e.data};if("Legacy"===e.type){var o=e.data;return Array.isArray(o)?{kind:"PluralLegacy",data:o,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:o,refetchInfo:null,paginationInfo:null}}if(null!=a&&"PaginationLegacyData"===a.kind)return{kind:"PaginationLegacyData",paginationLegacyData:a.paginationLegacyData,refetchInfo:a.refetchInfo,paginationInfo:a.paginationInfo};throw Error("Invalid value")}function o(e){return a(e).kind}},756079:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(454536),a=t(848171);function o(e,n,t){if(null===t)return null===n?n:t;if(void 0===t)return void 0===n?n:t;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return t;for(var r=!0,a=0;a<t.length;a+=1){var l=o(e,n[a],t[a]);l!==n[a]?r=!1:t[a]=l}return r?n:t}switch(e.kind){case"ScalarField":return n===t?n:t;case"LinkedField":case"InlineDataFragmentSpread":if(null==n)return t;return i({fragmentSelections:e.selections,oldSourceObject:n,newSourceObject:t});default:throw Error("Unexpected case.")}}function i(e){var n=e.fragmentSelections,t=e.oldSourceObject,i=e.newSourceObject;if(null==i)return null===t?t:i;if(null==t)return i;for(var l=!0,u=[n];u.length>0;){var c=u.pop();if(!c)break;for(var s=0;s<c.length;s+=1){var f=c[s];switch(null==f?void 0:f.kind){case"LinkedField":case"ScalarField":var d=f.alias,p=f.name,y=null!=d?d:p,g=t[y],m=o(f,g,i[y]);m!==g?l=!1:i[y]=m;break;case"FragmentSpread":var v=(0,a.G5)(i);v&&(0,a.I9)(t,v);break;case"InlineDataFragmentSpread":var h,S,b=f.name,I=null==t||null==(h=t[r.G])?void 0:h[b];o(f,I,null==i||null==(S=i[r.G])?void 0:S[b])!==I&&(l=!1);break;case"ClientExtension":case"Condition":u.push(f.selections);break;case"InlineFragment":var k=f.type;i.__typename===k&&(t.__typename===i.__typename?u.push(f.selections):l=!1);break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"ClientEdge":case void 0:throw Error("The selection type '".concat(null==f?void 0:f.kind,"' is not supported yet"));default:throw Error("Unexpected case")}}}return l?t:i}var l=t(477078);function u(e){var n=e.fragment,t=e.cacheKey,r=e.data,a=(0,l.aL)(t),o=r;if(null!=a){var u=i({oldSourceObject:a.data,newSourceObject:r,fragmentSelections:n.selections});u!==a.data&&(0,l.ax)(t,{count:a.count,data:null!=u?u:r}),o=null!=u?u:r}else(0,l.ax)(t,{count:0,data:r});return(0,l.U5)(t),setTimeout(function(){return(0,l.H8)(t)},3e4),o}},848171:function(e,n,t){t.d(n,{Be:function(){return o},G5:function(){return a},I9:function(){return i}});var r=Symbol("legacyData");function a(e){return e[r]}function o(e){return e[r]}function i(e,n){return e[r]=n,e}},477078:function(e,n,t){t.d(n,{H8:function(){return l},Ly:function(){return o},U5:function(){return i},_0:function(){return s},aL:function(){return u},ax:function(){return c},w3:function(){return f}});var r=t(603316),a=new Map;function o(e){return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1}}function i(e){var n=a.get(e);n&&a.set(e,{count:n.count+1,data:n.data})}function l(e){var n=a.get(e);if(!n){var t=e.split("/")[0];throw(0,r.nP)("autoLegacyAdapter.stableReferences.cacheItemMissing",{sampleRate:1,tags:{fragmentName:t}}),Error("Item with key ".concat(e," not found in cache"))}if(1===n.count)return void a.delete(e);a.set(e,{count:n.count-1,data:n.data})}function u(e){return a.get(e)}function c(e,n){a.set(e,n)}function s(e,n){return"".concat(e.name,"/").concat(n)}function f(e,n,t){return n?{key:s(e,n),data:t}:null}},102168:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(586659),a=t(408192),o=t(454536),i=t(945474),l=t(562399),u=t(756079),c=t(412007),s=t(477078),f=t(603316),d=function(e){var n=e.items,t=e.shouldCalculateStableReferences;return(0,r.useEffect)(function(){if(n&&t)return n.forEach(function(e){var n=e.key,t=e.data;if(!(0,s.aL)(n)){var r=n.split("/")[0];(0,f.nP)("autoLegacyAdapter.stableReferences.useRetainWhileMounted.cacheItemMissing",{sampleRate:1,tags:{fragmentName:r}}),(0,s.ax)(n,{count:0,data:t})}(0,s.U5)(n)}),function(){n.forEach(function(e){var n=e.key;return(0,s.H8)(n)})}},[null==n?void 0:n.map(function(e){return e.key}).join(","),t])},p=function(e){var n,t=e.fragment,f=e.dataKey,p=e.isUsingALA,y=e.validateSingularLegacy,g=e.getDataFromRedux,m=(0,s.Ly)(p),v=(0,c.O7)(),h=(0,i.H)(),S=(0,r.useMemo)(function(){if((null==f?void 0:f.kind)==="SingularLegacy"&&y(f)){var e=f.data,n=f.refetchInfo,r=f.paginationInfo,i=(0,o.Z)({conditionContext:v,fragment:t,legacyData:e,paginationInfo:r,refetchInfo:n,stableReferencesExperimentStatus:m,getDataFromRedux:g,defaultShouldInclude:h});return{itemsToRetain:[{legacyData:e,graphQLShapedData:i}],autoLegacyAdapterData:[i]}}if((null==f?void 0:f.kind)==="PluralLegacy"){var c=f.data,d=f.refetchInfo,p=f.paginationInfo,S=[],b=[];return c.forEach(function(e){var n=(0,o.Z)({conditionContext:v,fragment:t,legacyData:e,paginationInfo:p,refetchInfo:d,stableReferencesExperimentStatus:m,getDataFromRedux:g,defaultShouldInclude:h});null==S||S.push(n),null==b||b.push({legacyData:e,graphQLShapedData:n})}),{itemsToRetain:b,autoLegacyAdapterData:S}}if((null==f?void 0:f.kind)==="PaginationLegacyData"){var I,k,L,C,A,_=null!=(I=null==t||null==(k=t.metadata)||null==(L=k.connection)||null==(C=L[0])||null==(A=C.path)?void 0:A.length)?I:null,D=(0,l.Z)(t.selections,f,_),E=D;if("Query"===t.type&&m.shouldCalculateStableReferences){var O=(0,s._0)(t,a.ROOT_ID);E=(0,u.Z)({cacheKey:O,data:D,fragment:t})}return{itemsToRetain:[{graphQLShapedData:E,legacyData:{id:"Query"===t.type?a.ROOT_ID:null}}],autoLegacyAdapterData:[D]}}return null},[(null==f?void 0:f.kind)==="PaginationLegacyData"?f.paginationLegacyData:null==f?void 0:f.data]);return d({items:null==S||null==(n=S.itemsToRetain)?void 0:n.map(function(e){var n=e.legacyData,r=e.graphQLShapedData,o=n&&"id"in n&&"string"==typeof n.id?n.id:null;return(0,s.w3)(t,"Query"===t.type?a.ROOT_ID:o,r)}).filter(function(e){return null!=e}),shouldCalculateStableReferences:m.shouldCalculateStableReferences}),null==S?void 0:S.autoLegacyAdapterData}},808660:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(586659);function a(e,n){var t=(0,r.useRef)(null);if(null!=e){if(null==t.current)t.current=e;else if(t.current!==e)throw Error("".concat(n(),": reference type mismatch: expected ").concat(t.current,", but received ").concat(e,"."))}}},28427:function(e,n,t){t.d(n,{Z:function(){return v}});var r=t(872555),a=t(408192),o=t(915131),i=t(808660),l=t(221020),u=t(102168),c=t(988364),s=function(e,n){var t=(0,c.Z)().getDataFromRedux,r=(0,a.getFragment)(e),o=n?(0,l.g)(n):null,i=(null==o?void 0:o.kind)!=="GraphQL";if(!i)return{dataKey:o,isUsingALA:i,autoLegacyAdapterData:null};var s=(0,u.Z)({fragment:r,dataKey:o,isUsingALA:i,validateSingularLegacy:function(){return!0},getDataFromRedux:t});return o?{dataKey:o,isUsingALA:i,autoLegacyAdapterData:s}:null},f=t(586659),d=t(939672),p=t(675973),y=t(183152),g=function(){},m=function(){var e=(0,y.Zv)(),n=(0,d.VK)().setRmaData,t=(0,p.Z)().checkExperiment,r=(0,f.useCallback)(function(t,r,o,i){var l=performance.now()-r,u=(0,a.getFragment)(t),c=o&&"id"in o&&"string"==typeof o.id?o.id:null;c&&n({id:c,path:e,fragmentName:u.name,executionTime:l,newData:i})},[e,n]);return(0,d.N3)(e)&&t("web_render_performance_rma").anyEnabled?r:g},v=function(e,n){var t,l,u,c,f,d=performance.now(),p=m(),y=(0,a.getFragment)(e),g=s(e,n);if((0,i.Z)(null==g?void 0:g.dataKey.kind,function(){return y.name}),null==g)return null;var v=g.dataKey,h=g.autoLegacyAdapterData;switch(v.kind){case"SingularLegacy":return p(e,d,v.data,null==h?void 0:h[0]),null==h?void 0:h[0];case"PluralLegacy":return p(e,d,v.data,h),h;case"GraphQL":return(0,r.useFragment)(e,v.data);case"PaginationLegacyData":if(Array.isArray(n))throw Error("Unexpected Plural fragment");if(null!=(null!=(t=null==y||null==(l=y.metadata)||null==(u=l.connection)||null==(c=u[0])||null==(f=c.path)?void 0:f.length)?t:null))throw Error("Unexpected fragment containing a @connection directive. You should read this fragment with usePaginationFragmentOrLegacy instead.");return null==h?void 0:h[0];default:return(0,o.Z)(v,"Unexpected case")}}},988364:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(586659),a=t(581722);function o(){var e,n=(0,r.useContext)(a.ET),t=null==n||null==(e=n.store)?void 0:e.getState();return{getDataFromRedux:function(e,n){var r,a,o,i;return"pin"===n?null==t||null==(r=t.pins)?void 0:r[e]:"story"===n?null==t||null==(a=t.stories)?void 0:a[e]:"board"===n?null==t||null==(o=t.boards)?void 0:o[e]:"article"===n?null==t||null==(i=t.articles)?void 0:i[e]:null}}}}}]);