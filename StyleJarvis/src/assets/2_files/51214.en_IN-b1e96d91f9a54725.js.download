(self.legacyJsonp=self.legacyJsonp||[]).push([["51214"],{505370:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselVideoItem_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};i.hash="510195e37611b9b69a16eccfeb13e9cf",t.default=i},621539:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselVideoItem_pin"}],type:"Pin",abstractKey:null};i.hash="83e61e6fc89222c2a0b03276839f44a5",t.default=i},3449:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoWithVisibility_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoNonDuplo_pin"}],type:"Pin",abstractKey:null};i.hash="60493becbbe037be854a8cd1136fede6",t.default=i},128948:function(e,t,n){"use strict";n.r(t);var i,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"}],type:"Pin",abstractKey:null};r.hash="4c99d4ae49479ef8ed3083d59d4343c1",t.default=r},362250:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"showRecipeCta",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};i.hash="f8426bd32c5531bed724a11f1f7d3b94",t.default=i},971203:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};i.hash="89029511c11617e1150976d1002228db",t.default=i},655327:function(e,t,n){"use strict";n.r(t);var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="759d6577be9e10b82394f48ee87daf24",t.default=i},224266:function(e,t,n){"use strict";n.r(t);var i,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:i,storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null}],type:"Pin",abstractKey:null};r.hash="c3027cfec56abe15f0990c2bc6707062",t.default=r},501392:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(274320),r=n(15667),a=n(647709);function o(e){var t=e.dangerouslySkipActivation,n=(0,r.B)(),o=n.isAuthenticated,l=n.userAgent,s=l.browserName,u=l.browserVersion,c=(0,a.HG)(),d=(0,i.r)().checkExperiment;return{isEnabled:"Chrome"===s&&Number(u.split(".")[0])>=135&&o&&c&&d("closeup_google_css_carousel_dweb",{dangerouslySkipActivation:t}).anyEnabled}}},364674:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(20256),r=n(19585),a=n(618336),o=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){var i;return(i=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=l(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t,n=e.digitalMediaType,l=e.isMobile,u=void 0!==l&&l,c=e.isViewedByOwnerEmployeeOrAgency,d=(0,r.ZP)(),p=(s(t={},a.s.TRAINED_ALGORITHMIC_MEDIA,d.bt("AI modified", "AI modified", "closeup.aIModifiedLabel.label", undefined, true)),s(t,a.s.COMPOSITE_WITH_TRAINED_ALGORITHMIC_MEDIA,d.bt("AI modified", "AI modified", "closeup.aIModifiedLabel.label", undefined, true)),s(t,a.s.DETECTED_TRAINED_ALGORITHMIC_MEDIA,d.bt("AI modified", "AI modified", "closeup.aIModifiedLabel.label", undefined, true)),t),f=function(){return(0,o.jsx)(i.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"ai-generated-label",display:"flex",height:u?48:44,justifyContent:"center",paddingX:4,rounding:4,children:(0,o.jsx)(i.xv,{color:"light",lineClamp:1,size:"300",children:p[n]})})};return void 0!==c&&c?(0,o.jsx)(i.u,{idealDirection:"up",text:d.bt("This label won’t appear on Pins in a promoted state. Your paid ads will include the disclosure on the 'Why am I seeing this ad?' page.", "This label won’t appear on Pins in a promoted state. Your paid ads will include the disclosure on the \"Why am I seeing this ad\" page.", "AICloseupLabel.tooltip.text", undefined, true),children:f()}):f()}},520585:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}}),n(492996);var i,r,a=n(586659),o=n(20256),l=n(617778),s=n(28427),u=n(19585),c=n(453179),d=n(774429),p=n(603316),f=n(382718);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var y=(void 0!==i||(i=n(362250)).hash&&"f8426bd32c5531bed724a11f1f7d3b94"!==i.hash&&console.error("The definition of 'DomainLinkButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function h(e){var t,n,i=e.clientTrackingParams,r=e.domain,h=e.link,g=e.pinKey,v=e.trafficSource,b=e.size,_=e.onClick,P=e.viewType,w=void 0===P?3:P,x=(0,u.ZP)(),S=(0,s.Z)(y,g),j=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=j[0],k=j[1],O=(0,a.useCallback)(function(){return k(function(e){return!e})},[]),C=(0,d.Z)({clickthroughType:"middleClick",location:"closeup.domainLinkButton"}),T=(0,a.useCallback)(function(){(0,p.nP)("web.closeup.media_viewer_stats.clickthrough.clicked_from.".concat(675===w?"media_viewer":"closeup"))},[w]);return h.startsWith("https://i.pinimg.com")?(0,f.jsx)(a.Fragment,{}):(n=S.showRecipeCta?x.bt("See recipe", "See recipe", "closeup.defaultMetadata.visitButton", undefined, true):r?x.bt("Visit site", "Visit site", "closeup.pinActionDropDown.visitSite", undefined, true):x.bt("Learn more", "Learn more", "closeup.image.domainLinkButton", undefined, true),(0,f.jsx)(l.Z,{clientTrackingParams:i,hovered:I,pinKey:S,trafficSource:v,viewType:w,children:(0,f.jsx)(o.ZP,{_onAuxClick:function(e){var t=e.event;(0,c.UE)(t)&&(C(),t.preventDefault(),t.stopPropagation(),T(),_({event:t}))},_onMouseEnter:O,_onMouseLeave:O,accessibilityLabel:n,color:"semiTransparentWhite",dataTestId:"visit-button",href:h,iconStart:"arrow-up-right",onClick:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;T(),n(),_({event:t})},rel:"nofollow",size:void 0===b?"lg":b,text:n})}))}var g=n(980787),v=n(355940),b=n(611282),_=n(899678),P=n(274320),w=n(821806),x=n(601686),S=(void 0!==r||(r=n(128948)).hash&&"4c99d4ae49479ef8ed3083d59d4343c1"!==r.hash&&console.error("The definition of 'DomainLinkButtonWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function j(e){var t,n,i,r,a=e.auxData,o=e.domain,l=e.link,u=e.onClick,c=e.pinKey,d=e.trafficSource,p=e.viewType,m=(0,s.Z)(S,c),y=(0,g.u)().logContextEvent,j=(0,P.r)().checkExperiment,I=m.isInstagramApi&&(null==(t=m.nativeCreator)?void 0:t.websiteUrl)&&(null==(n=m.nativeCreator)?void 0:n.isPrimaryWebsiteVerified)&&(null==(i=m.nativeCreator)?void 0:i.isDirectToSiteAllowed),k=I&&j("dweb_closeup_links").anyEnabled?null==(r=m.nativeCreator)?void 0:r.websiteUrl:l,O=(0,x.x4)().clientTrackingParams,C=(0,b.Z)({href:{pathname:k,state:{trackingParams:O}},target:"blank",clientTrackingParams:O,externalData:{auxData:a,pin:m&&{attributionSourceId:m.attributionSourceId,board:m.board&&{url:m.board.url},campaignId:m.campaignId,entityId:m.entityId,isDownstreamPromotion:m.isDownstreamPromotion,isPromoted:m.isPromoted,pinner:m.pinner&&{username:m.pinner.username},pinPromotionId:m.pinPromotionId,promoter:m.promoter&&{entityId:m.promoter.entityId},storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,advertiserId:m.advertiserId}}});return(0,f.jsx)(v.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,f.jsx)(w.Z,{children:(0,f.jsx)(_.Z,{overrideDataTestId:"image-link",children:(0,f.jsx)(h,{clientTrackingParams:O,domain:o,link:k,onClick:function(e){var t=e.event;u(),y({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:I}}),C({event:t})},pinKey:m,trafficSource:d,viewType:p})})})})}},935410:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(586659),r=n(774055),a=n(341044),o=n(20256),l=n(369416),s=n(382718),u="animated-text";function c(e){var t=e.duration,n=e.show,a=e.text,c=(0,i.useRef)(null),d="\n    .".concat(u,"-enter {\n      opacity: 0;\n    }\n    .").concat(u,"-enter-active {\n      opacity: 1;\n      transition: opacity ").concat(t,"ms cubic-bezier(1,0,1,0);\n    }\n    .").concat(u,"-enter-done {\n      opacity: 1;\n    }\n    .").concat(u,"-exit {\n      opacity: 1;\n    }\n    .").concat(u,"-exit-active {\n      opacity: 0;\n      transition: opacity ").concat(t,"ms cubic-bezier(0,1,0,1);\n    }\n    .").concat(u,"-exit-done {\n      opacity: 0;\n    }\n  ");return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(l.Z,{unsafeCSS:d}),(0,s.jsx)(r.Z,{appear:!0,classNames:u,in:n,nodeRef:c,timeout:t,children:(0,s.jsx)(o.xu,{ref:c,opacity:0,children:(0,s.jsx)(o.mg,{size:"md",children:a})})})]})}var d=n(874072),p=n(111330),f=n(121836),m=n(521009),y=n(667835),h=n(702849),g=n(274320),v=n(15667),b=n(753143),_=n(238589),P=n(647709),w=n(341742);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var j="animated-button-container",I="\n  .".concat(j,"-enter  {\n    width: 0px;\n  }\n  .").concat(j,"-enter-active {\n    width: 100% !important;\n    transition: width ").concat(200,"ms ease-in;\n  }\n  .").concat(j,"-enter-done {\n    width: 100% !important;\n  }\n  .").concat(j,"-exit {\n    width: 100% !important;\n  }\n  .").concat(j,"-exit-active {\n    width: 0px !important;\n    transition: width ").concat(200,"ms ease-in;\n  }\n  .").concat(j,"-exit-done {\n    width: 0px;\n  }\n");function k(e){var t=e.animateOnMount,n=e.animationDelayOnMount,u=void 0===n?1e3:n,S=e.leaveOnDurationOnMount,k=void 0===S?3e3:S,O=e.dataTestId,C=e.icon,T=e.imageSignature,A=e.onTap,E=e.variant,D=(0,m.Z)(),Z=(0,v.B)().isRTL,M=(0,y.vs)(),R=(0,P.HG)(),L=(0,b.M0)(),W=(0,_.Nl)(),B=(0,g.r)().checkExperiment,z=(0,i.useRef)(null),F=x((0,i.useState)(!1),2),V=F[0],N=F[1],H=x((0,i.useState)(!1),2),K=H[0],U=H[1],G=(0,d.Z)({variant:E}),X=(0,i.useMemo)(function(){return M&&R?"rgba(17, 17, 17, 0.9)":V?h.Xq:h.XF},[M,R,V]),$="visual-search"===E,J=W.getItem(f.Ml)||0,Y=L.getItem(p.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},q=Y.animationSeenCount,Q=Y.lastAnimationTimestamp,ee=(0,a.Z)(new Date(Q),new Date);return(0,w.Z)(function(){if($&&!ee&&L.setItem(p.Yn,{animationSeenCount:0,lastAnimationTimestamp:Q}),t&&(!$||[0,1].includes(J)||!B("sg_dweb_improved_share_animation_on_closeup").anyEnabled)){var e=setTimeout(function(){U(!0),$&&L.setItem(p.Yn,{animationSeenCount:q+1,lastAnimationTimestamp:Date.now()});var e=setTimeout(function(){U(!1)},k);return function(){return clearTimeout(e)}},u);return function(){return clearTimeout(e)}}}),(0,w.Z)(function(){D({event_type:120,component:128,element:"view-larger"===E?15864:234,view_type:3,aux_data:{image_signature:T}})}),(0,s.jsxs)(o.iP,{accessibilityLabel:G,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},onTap:A,rounding:"circle",children:[(0,s.jsx)(l.Z,{unsafeCSS:I}),(0,s.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,s.jsx)(r.Z,{appear:!0,classNames:j,in:V||K,nodeRef:z,timeout:200,children:(0,s.jsxs)(o.xu,{ref:z,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:X}},"data-test-id":O,display:"flex",justifyContent:"end",minHeight:48,minWidth:48,position:"relative",rounding:4,width:0,children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},marginEnd:2,marginStart:3,overflow:"hidden",children:(0,s.jsx)(c,{duration:200,show:V||K,text:G})}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:Z?"".concat(12,"px"):0,paddingRight:Z?0:"".concat(12,"px")}},children:(0,s.jsx)(o.JO,{accessibilityLabel:G,color:"default",icon:C,size:24})})]})})})]})}},874072:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(19585);function r(e){var t=e.variant,n=(0,i.ZP)();return"view-larger"===t?n.bt("View larger", "View larger", "closeup.image.mediaViewerButton", undefined, true):n.bt("Explore", "Explore", "closeup.explore.icon", undefined, true)}},516202:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},p:function(){return l}}),n(492996);var i,r=n(501392),a=n(28427),o=(void 0!==i||(i=n(655327)).hash&&"759d6577be9e10b82394f48ee87daf24"!==i.hash&&console.error("The definition of 'useBuildCloseupImageOverlayProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function l(e,t,n,i,r){return!t&&!!e&&e.includes("tag")&&!n&&!r||i||!1}function s(e){var t=e.carouselInfo,n=e.disablePinTagButton,i=e.domain,s=e.hasMetTrustAndSafetyCheck,u=e.isCollageEnabled,c=e.isEmployee,d=e.isORBACProfileManager,p=e.isScenePin,f=e.navLink,m=e.pinKey,y=e.showProductDetailPage,h=(0,a.Z)(o,m),g=(0,r.Z)({dangerouslySkipActivation:!1}).isEnabled,v=h.access,b=h.storyPinDataId,_=h.isPromoted,P=!1,w=!1;p||(P=!(w=!!f&&!u)&&!!i&&!!h.link&&!h.link.startsWith("https://i.pinimg.com")&&!(y&&t)&&!u);var x=s&&!d&&!_;return{showCarouselControls:!!t&&!g,showCloseupShopDomainLinkButton:p,showDebugSignalsFeedbackButton:!!c,showDomainLink:P,showDomainLinkButton:w=w&&!(null!=h&&h.isGoLinkless),showFlashlightButton:x,showPinTagButton:l(v,b,n,d,u)}}},96413:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(586659),r=n(20256),a=n(980787),o=n(982166),l=n(19585),s=n(369416),u=n(382718);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function d(e){var t,n=e.handlePause,d=e.handlePlay,p=e.musicAttributions,f=e.shouldMute,m=e.showEndCard,y=(0,l.ZP)(),h=(0,a.u)().logContextEvent,g=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1];if((0,i.useEffect)(function(){!m&&(null!=p&&p.length||f)&&h({event_type:f?14600:14601,view_type:3,view_parameter:140})},[h,p,f,m]),m||!(null!=p&&p.length)&&!f)return null;var _=function(){d&&d(),b(!1)},P="";if((null==p?void 0:p.length)===1){var w=p[0],x=w.artist,S=void 0===x?"":x,j=w.title,I=void 0===j?"":j;P=S&&I?"".concat(S," - ").concat(I):""}var k=((null==p?void 0:p.length)||0)>=2?(0,u.jsx)(r.xu,{children:(0,u.jsx)(r.iP,{fullHeight:!0,fullWidth:!0,onTap:function(){n&&n(),b(!0)},children:(0,u.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(r.xu,{marginEnd:2,children:(0,u.jsx)(r.JO,{accessibilityLabel:y.bt("Music icon", "Music icon", "web.closeup.musicicon", undefined, true),color:"inverse",icon:f?"music-off":"music-on",inline:!0,size:12})}),(0,u.jsx)(r.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y.bt("View the playlist", "View the playlist", "web.closeup.musicAttibutionModal.entryPoint", undefined, true)})]})})}):(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.JO,{accessibilityLabel:y.bt("Music icon", "Music icon", "web.pin.closeup.musicicon", undefined, true),color:"inverse",icon:f?"music-off":"music-on",inline:!0,size:12}),(0,u.jsx)(r.xu,{marginStart:2,overflow:"hidden",children:(0,u.jsxs)("span",{className:P.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:P.length>=50?"260px":void 0},children:[(0,u.jsx)(r.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:P}),(0,u.jsx)(s.Z,{unsafeCSS:"\n                  .marquee {\n                   animation: marquee ".concat("10s"," linear infinite;\n                   animation-delay: ").concat("2s",";\n                  }\n\n                  .marquee:hover {\n                      animation-play-state: paused;\n                  }\n\n\n                 @keyframes marquee {\n                   0% {\n                     transform: translateX(0%);\n                    }\n                  50% {\n                    transform: translateX(").concat("-100%",");\n                  }\n                  100% {\n                    transform: translateX(0%);\n                  }\n              }\n            ")})]})})]});return(0,u.jsxs)(i.Fragment,{children:[f?(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(r.xu,{marginEnd:2,children:(0,u.jsx)(r.JO,{accessibilityLabel:y.bt("Music icon", "Music icon", "web.closeup.musicMutedIcon", undefined, true),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,u.jsx)(r.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y.bt("Audio not available in your location", "Audio not available in your location", "web.closeup.musicAttribution", undefined, true)})]})}):k,v&&(0,u.jsx)(o.ZP,{accessibilityModalLabel:y.bt("Artist and song title for this Pin", "Artist and song title for this Pin", "web.closeup.musicAttibutionModal", undefined, true),heading:(0,u.jsxs)(r.kC,{justifyContent:"between",children:[(0,u.jsx)(r.X6,{size:"600",children:y.bt("Playlist for this video", "Playlist for this video", "web.closeup.musicAttibutionModal.heading", undefined, true)}),(0,u.jsx)(r.hU,{accessibilityLabel:y.bt("Close modal button", "Close modal button", "web.closeup.musicAttibutionModal.closeButton", undefined, true),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,u.jsx)(r.xu,{marginBottom:5,paddingX:5,paddingY:1,children:null==p?void 0:p.map(function(e,t){var n=e.isrc,i=e.thumbnail_image_url,a=e.title,o=e.artist;return(0,u.jsxs)(r.xu,{display:"flex",padding:1,children:[i&&(0,u.jsx)(r.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,u.jsx)(r.Ee,{alt:y.bt("Image of album art", "Image of album art", "web.closeup.musicAttibutionModal.albumArt", undefined, true),color:"darkWash",naturalHeight:1,naturalWidth:1,src:i})}),(0,u.jsxs)(r.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[(0,u.jsx)(r.xv,{weight:"bold",children:null!=a?a:""}),(0,u.jsx)(r.xv,{size:"100",children:null!=o?o:""})]})]},n||"".concat(t))})})})]})}},442082:function(e,t,n){"use strict";n.d(t,{Z:function(){return tI}});var i,r,a,o=n(20256),l=n(382718),s=function(e){var t=e.children;return(0,l.jsx)(o.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:t})},u=n(918920),c=n(19585),d=n(15667),p=n(85574),f=n(611499),m=n(601686);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var g=function(e){var t,n=e.embedUrl,i=e.isWideVideo,r=e.paddingBottom,a=e.shouldPadImage,g=(0,c.ZP)(),v=(0,d.B)(),b=i?f.KP:f.Gg,_=(0,m.x4)(),P=_.showCloseupContentRight,w=_.closeupWithinMasonryEnabled,x=_.peekCloseupEnabled,S=_.viewportSize,j=null==n?void 0:n.replace("http://","https://");j&&j.startsWith("https://www.youtube.com/embed/")&&(j=j.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/"));var I=(0,l.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=y(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:void 0===r?"50%":r},null==(t=(0,p.Z)({isSideBySide:!i,isPadded:a,isRTL:v.isRTL,closeupWithinMasonryEnabled:w,peekCloseupEnabled:x}))?void 0:t.borderStyle),children:(0,l.jsx)("iframe",{allowFullScreen:!0,id:u.ZP.VIDEO_IFRAME_ID,src:j,style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:g.bt("Embedded content", "Embedded content", "Accessible content for the embedded content iframe", undefined, true)})}),k=P&&"lg"===S?(0,l.jsx)(o.xu,{marginBottom:6,marginEnd:i||a?0:6,width:b,children:I}):I;return a?(0,l.jsx)(s,{children:k}):k},v=n(586659);n(492996);var b=n(501392),_=n(112931),P=n(934645),w=n(527895),x=n(878709);n(872555);var S=n(869985),j=n(521009),I=n(28427),k=(void 0!==i||(i=n(505370)).hash&&"510195e37611b9b69a16eccfeb13e9cf"!==i.hash&&console.error("The definition of 'CarouselVideoItem_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),O=function(e){var t=e.contextLogData,n=e.height,i=e.isFocused,r=e.videoList,a=e.onFocus,s=e.onUnfocus,u=e.pinId,c=e.pinKey,d=e.width,p=(0,j.Z)(),f=(0,I.Z)(k,c),m=r.V_720P,y=r.V_HLSV4,h=r.V_HLSV3_MOBILE,g=m||y||h||{},b=g.height,_=g.width,P=g.thumbnail,w=(void 0===_?1:_)/(void 0===b?1:b),x="100%";w<1&&"number"==typeof n&&"number"==typeof d&&(x="".concat(Math.min(n*w,d),"px")),(0,v.useEffect)(function(){i?a&&a():s&&s()},[i,a,s]),(0,v.useEffect)(function(){i&&p({component:t.component,event_type:13,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})},[i,t,p]);var O=(0,v.useCallback)(function(){p({component:t.component,event_type:3621,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})},[t,p]);return(0,l.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,l.jsx)(o.xu,{"data-testid":"carousel-video-item",height:"100%",width:x,children:(0,l.jsx)(S.Z,{contextLogData:t,customThumbnail:P,disabled:!i,loop:!0,muted:!1,objectFit:"contain",onPlay:O,pinId:u,pinKey:f,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:m,hls:y,hlsv3:h}})})})},C=n(980787),T=n(273094),A=n(482694),E=n(956077),D=n(431338),Z=n(104659),M=n(300685),R=n(974297),L=n(712172);function W(e){var t=e.fit,n=e.highResOnly,i=e.onError,r=e.onLoad,a=e.slot,s=e.slotIndex,u=(0,c.ZP)(),d=a.details,p=(0,R.Z)(a.images)||{},f=p.url,m=void 0===f?"":f,y=p.width,h=void 0===y?1:y,g=p.height,v=void 0===g?1:g;return m&&(0,l.jsx)(o.Ee,{alt:(0,L.GH)(void 0===d?"":d,u,s),fit:t,naturalHeight:null!=v?v:1,naturalWidth:null!=h?h:1,onError:i,onLoad:r,src:m,srcSet:(0,L.gA)({slot:a,highResOnly:n})})}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=B(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V=(void 0!==r||(r=n(621539)).hash&&"83e61e6fc89222c2a0b03276839f44a5"!==r.hash&&console.error("The definition of 'CloseupCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function N(e){var t=e.displayHeight,n=e.displayWidth,i=e.pinKey,r=(0,C.u)().logContextEvent,a=(0,m.x4)(),s=a.closeupWithinMasonryEnabled,u=a.isCloseupMediaViewerOpen,c=a.showProductDetailPage,d=a.peekCloseupEnabled,p=(0,Z.G)(),f=p.pauseAutoplay,y=p.setCurrentVideo,h=(0,b.Z)({dangerouslySkipActivation:!1}).isEnabled,g=(0,x.G)(),S=g.carouselInfo,j=g.mainImage,k=S||{},R=k.carouselData,L=k.handleCarouselSwipe,B=(R||{}).index,z=void 0===B?0:B,N=j.height,H=j.width,K=(0,I.Z)(V,i),U=(0,P.Z)({showProductDetailPage:!!K.isEligibleForPdp}),G=K.entityId,X=(0,v.useRef)(null),$=(0,D.Z)(K),J=K.isEligibleForPdp?$():void 0,Y=K.isEligibleForPdp?144:void 0,q=K.isEligibleForPdp?3:void 0,Q=(0,v.useCallback)(function(e){e>=1&&(0,E.Nx)("image")},[]),ee=(0,v.useMemo)(function(){return{viewParameter:c?144:156,view:3,component:c?14012:179,objectId:G}},[G,c]),et=(0,v.useCallback)(function(){y({pinId:G,isPromoted:!1})},[y,G]),en=(0,v.useCallback)(function(){f({pinId:G,isPromoted:!1})},[f,G]);(0,v.useEffect)(function(){var e;(null==R||null==(e=R.carousel_slots)?void 0:e.find(function(e){var t;return null==(t=e.videos)?void 0:t.video_list}))&&r({event_type:120,view_type:ee.view,view_parameter:ee.viewParameter,component:ee.component,object_id_str:ee.objectId})},[r,null==R?void 0:R.carousel_slots,ee]);var ei=X.current&&d,er=(0,v.useCallback)(function(e,i,r,a,s){var c,d,p;return null!=(c=e.videos)&&c.video_list?(d=(0,l.jsx)(O,{contextLogData:ee,height:t,isFocused:r,onFocus:a,onUnfocus:s,pinId:G,pinKey:K,videoList:e.videos.video_list,width:n}),p=e.videos.id):(d=(0,l.jsx)(w.Z,{_enableViewTransitions:!0,suppressViewTransitionTags:u||i!==z,type:"image",children:(0,l.jsx)(W,{fit:"cover",onLoad:function(){return Q(i)},slot:e,slotIndex:i})}),p=e.image_signature),(0,l.jsx)(o.xu,{height:"100%",width:"100%",children:d},"".concat(G,"-").concat(p||i))},[z,u,G,ee,t,K,n,Q]);return(0,l.jsx)(o.xu,{ref:X,dangerouslySetInlineStyle:{__style:{aspectRatio:s?(0,_.GJ)(H,N):void 0,contain:"strict",justifySelf:"center"}},height:"100%",overflow:s?"hidden":void 0,rounding:s&&!U?4:void 0,width:s?void 0:"100%",children:h?(0,l.jsxs)(v.Fragment,{children:[(0,l.jsx)(T.Z,{carouselData:F(F({},R),{},{type:"canonical"}),contextLogData:J,height:t,id:G,impressionType:"Pin",index:z,slideWidth:n,view:null!=q?q:3,viewParameter:null!=Y?Y:156}),(0,l.jsx)(A.Z,{itemHeight:t,items:(null==R?void 0:R.carousel_slots)||[],itemWidth:n,mode:"single",onIndexChange:function(e){var t=e.nextIndex;return null==L?void 0:L(t)},renderItem:function(e){return er(e.item,e.index,e.isFocused,e.onFocus,e.onUnfocus)},selectedIndex:z,showNavigationButtons:!0,showScrollMarkers:!K.isEligibleForPdp})]}):(!d||ei)&&(0,l.jsx)(M.Z,{containerRef:X.current,contextLogData:J,height:t,id:G,index:z,responsiveSizing:s,slideWidth:n,view:q,viewParameter:Y,children:((null==R?void 0:R.carousel_slots)||[]).map(function(e,t){return er(e,t,z===t,et,en)})})})}var H=n(592821),K=n(573631),U=n(291892);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var $=(0,v.memo)(function(e){var t,n,i,r=e.borderStyle,a=e.dominantColor,s=e.imageWithPreview,u=e.fit,c=e.sizes,d=e.srcSet,p=(0,m.x4)(),f=p.closeupWithinMasonryEnabled,y=p.isCloseupMediaViewerOpen,h=p.showProductDetailPage,g=(0,H.Re)().fiftyPercentWidth,v=(0,P.Z)({showProductDetailPage:h}),b=(0,K.b)(),w="closeup-image-main",x=""!==s.mainImage.src?(0,l.jsx)(o.xu,{"data-test-id":w,height:"100%",width:"100%",children:(0,l.jsx)(U.Z,{_enableViewTransitions:!0,_fixCompletedOnLoad:!0,alt:s.mainImage.alt,borderStyle:v?void 0:r,color:a,elementTiming:"".concat(w,"-MainPinImage"),fetchPriority:"high",fit:u,naturalHeight:s.naturalHeight,naturalWidth:s.naturalWidth,onLoad:function(){(0,E.Nx)("image")},sizes:c,src:s.mainImage.src,srcSet:d,suppressViewTransitionTags:y})}):null;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:f?(0,_.GJ)(s.naturalWidth,s.naturalHeight):void 0,contain:"strict",justifySelf:f?"center":void 0}},height:"100%",maxWidth:g,overflow:f?"hidden":void 0,rounding:v?void 0:6,width:f?void 0:"100%",children:!b&&null!=(t=s.previewImage)&&t.src?(0,l.jsx)(o.Ee,{alt:null!=(n=null==(i=s.previewImage)?void 0:i.alt)?n:"",color:a,fetchPriority:"high",fit:u,naturalHeight:s.naturalHeight,naturalWidth:s.naturalWidth,role:"img",src:s.previewImage.src,children:x}):x})}),J=function(e){return(0,l.jsx)($,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=G(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},Y=n(364674),q=n(856782),Q=n(899678),ee=n(821806),et=112+q.Z;function en(e){var t=e.digitalMediaType,n=e.shouldMoveAILabel,i=e.isViewedByOwnerEmployeeOrAgency;return(0,l.jsxs)(v.Fragment,{children:[(0,l.jsx)(o.xu,{height:"calc(100% - ".concat(n?et:56,"px)")}),(0,l.jsx)(o.xu,{display:"flex",justifyContent:"start",maxWidth:"225px",paddingX:q.Z,children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(Y.Z,{digitalMediaType:t,isViewedByOwnerEmployeeOrAgency:i})})})})]})}var ei=n(520585),er=function(e){var t=e.children,n=e.horizontalOffset,i=e.name,r=e.verticalOffset,a=new o.Ry(1),s=(0,m.x4)().closeupWithinMasonryEnabled,u=(0,x.G)().mainImage,c=u.height,d=u.width;return(0,l.jsx)(o.xu,{bottom:!s,dangerouslySetInlineStyle:{__style:{aspectRatio:s?d/c:void 0,justifySelf:s?"center":void 0,pointerEvents:"none",padding:s?void 0:"".concat(void 0===r?0:r,"px ").concat(void 0===n?0:n,"px")}},"data-test-id":"closeup-image-overlay-layer-".concat(i),height:"100%",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!s,zIndex:a,children:t})},ea=n(629178),eo=n(139707),el=n(355940),es=n(821342),eu=n(218831);function ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ed(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ep=function(e){var t=e.carouselData,n=e.containerWidth,i=e.slotWidth,r=t||{},a=r.index,o=r.carousel_slots,l=Math.floor(i);return void 0===a||!o||a>=o.length-1?0:n-l};function ef(e){var t=e.carouselData,n=e.children,i=e.disableAnimations,r=void 0!==i&&i,a=e.displayWidth,s=e.hide,u=(0,v.useCallback)(function(){return ep({carouselData:t,containerWidth:a,slotWidth:a})},[t,a]),c=ec((0,v.useState)(u()),2),d=c[0],p=c[1],f=ec((0,v.useState)(r),2),m=f[0],y=f[1],h=ec((0,v.useState)(),2),g=h[0],b=h[1],_=(0,v.useCallback)(function(){p(u())},[u]),P=function(){y(!0)},w=function(){y(!1)};return(0,v.useEffect)(function(){var e=!0;return r||(w(),b(function(t){return clearTimeout(t),setTimeout(function(){e&&(_(),s||P())},500)})),function(){e=!1}},[null==t?void 0:t.index,r,_,s]),(0,v.useEffect)(function(){return function(){return clearTimeout(g)}},[g]),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:d,transition:r?void 0:"opacity ".concat(500,"ms, visibility ").concat(500,"ms ease-in-out"),visibility:m?"visible":"hidden"}},"data-test-id":"animated-fab",opacity:+!!m,children:n})}var em=n(828942),ey=n(8512);function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=eh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=eh(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eh(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var e_=(0,v.lazy)(function(){return n.e("12780").then(n.bind(n,448372))}),eP=(0,v.lazy)(function(){return n.e("12780").then(n.bind(n,458684))}),ew=(0,v.lazy)(function(){return n.e("74993").then(n.bind(n,613047))}),ex=(0,v.lazy)(function(){return n.e("95804").then(n.bind(n,984723))}),eS=(0,v.lazy)(function(){return Promise.resolve().then(n.bind(n,935410))}),ej=(0,v.lazy)(function(){return n.e("85050").then(n.bind(n,966421))}),eI=function(e){var t,n,i,r,a,s=e.auxData,u=e.carouselInfo,c=e.domain,d=e.handleMediaButtonClick,p=e.isHovered,f=e.link,m=e.mediaViewerExpandButtonRef,y=e.onImageClick,h=e.pin,g=e.showCarouselControls,w=e.showCarouselEllipsis,S=e.showCloseupShopDomainLinkButton,j=e.showDebugSignalsFeedbackButton,I=e.showDomainLink,k=e.showDomainLinkButton,O=e.showFlashlightButton,C=e.showPinTagButton,T=e.trafficSource,A=e.maxCloseupImageWidth,E=e.shouldPadImage,D=e.verticalOffset,Z=e.horizontalOffset,M=(0,eu.K)().isRelatedPins10PercentVisible,R=(0,x.G)(),L=R.mainImage,W=R.mediaViewerImage,B=(0,es.Z)(),z=(0,eo.Z)(L).peekRedesignFastFollowsEnabled,F=(0,b.Z)({dangerouslySkipActivation:!1}).isEnabled,V=(0,P.Z)({showProductDetailPage:!!h.is_eligible_for_pdp}),N=function(e){if(Array.isArray(e))return e}(t=(0,v.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eb(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eb(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),H=N[0],K=N[1],U=p||H,G=(0,v.useCallback)(function(){return K(!0)},[]),X=(0,v.useCallback)(function(e){e.currentTarget.contains(e.relatedTarget)||K(!1)},[]),$=(0,_.ZP)({carouselData:null==u?void 0:u.carouselData,mainImage:L,maxCloseupImageWidth:A,shouldPadImage:E,pinKey:{type:"Legacy",data:h}}).containerWidth,J=4*q.Z,Y=J+(M||V?0:56),et=48+Y+8,ec=function(e){return z?{bottom:e,position:M?"absolute":"sticky",transition:M?"position 100ms cubic-bezier(0, 0, 1, 1)":"position 50ms cubic-bezier(0, 0, 1, 1)"}:{bottom:e,position:"sticky"}},ed=(0,ea.Z)({isShufflePin:!!(null!=h&&h.shuffle)}).isCloseupMediaViewerEnabled,ep=h&&h.origin_pinner&&B.isAuth&&B.id===h.origin_pinner.id||!(null!=h&&h.is_go_linkless),eh=(0,ey.zX)(h.digital_media_source_type),eg=(k||S)&&ep,eI=eg&&!f.startsWith("https://i.pinimg.com"),ek=!u||0===u.carouselData.index;return(0,l.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"contents"}},onBlur:X,onFocus:G,children:[I&&(0,l.jsx)(er,{horizontalOffset:Z,name:"domain-link",verticalOffset:D,children:(0,l.jsxs)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,l.jsx)(o.xu,{paddingX:1,children:(0,l.jsx)(o.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,l.jsx)(o.xu,{paddingX:1,children:(0,l.jsx)(o.xv,{color:"inverse",weight:"bold",children:c})})]})}),g&&u&&!F&&(0,l.jsxs)(er,{horizontalOffset:Z,name:"carousel-controls",verticalOffset:D,children:[(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(eP,{backNode:(0,l.jsx)(em.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:U}),carouselData:{carouselSlots:null==(n=u.carouselData.carousel_slots)?void 0:n.map(function(e){return{id:e.id,title:e.title}}),entityId:null!=(i=u.carouselData.id)?i:"",index:u.carouselData.index},carouselIndex:u.carouselData&&u.carouselData.index,componentType:u.componentType,forwardNode:(0,l.jsx)(em.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:U}),handleCarouselSwipe:u.handleCarouselSwipe,pinKey:{type:"Legacy",data:h},sliderStyleOverride:{padding:"30px 12px"},viewParameter:u.viewParameter,viewType:u.viewType})})}),(0,l.jsx)(o.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:q.Z,position:"absolute",right:!0,children:!k&&w&&(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(e_,{carouselData:{carouselSlots:null==(r=u.carouselData.carousel_slots)?void 0:r.map(function(e){return{id:e.id,title:e.title}}),entityId:null!=(a=u.carouselData.id)?a:"",index:u.carouselData.index},carouselIndex:u.carouselData&&u.carouselData.index,componentType:u.componentType,handleCarouselSwipe:u.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"Legacy",data:h},variant:"default",viewParameter:u.viewParameter,viewType:u.viewType})})})})})]}),O&&(0,l.jsxs)(er,{horizontalOffset:Z,name:"flashlight-button",verticalOffset:D,children:[(0,l.jsx)(o.xu,{height:"calc(100% - ".concat(48+J,"px)")}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:ec(Y)},display:"flex",justifyContent:"end",paddingX:q.Z,right:!0,children:(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(ex,{imageSignature:h.image_signature,pinId:h.id,show:ek,trafficSource:T})})})})})]}),ed&&(0,l.jsxs)(er,{horizontalOffset:Z,name:"media-viewer-button",verticalOffset:D,children:[(0,l.jsx)(o.xu,{height:"calc(100% - ".concat(O?(48+J)*2:J+48,"px)")}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:ec(et)},display:"flex",justifyContent:"end",paddingX:q.Z,right:!0,children:(0,l.jsx)(ef,{carouselData:null==u?void 0:u.carouselData,disableAnimations:!0,displayWidth:$,children:(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(o.xu,{ref:m,onMouseDown:function(){new Image().src=W.url},children:(0,l.jsx)(eS,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:h.image_signature,onTap:d,variant:"view-larger"})})})})})})})]}),j&&(0,l.jsxs)(er,{horizontalOffset:Z,name:"debug-signals-feedback",verticalOffset:D,children:[(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:ec(Y)},display:"flex",justifyContent:"end",paddingX:q.Z,right:!0,children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(ej,{pinKey:{type:"Legacy",data:h}})})})]}),h.digital_media_source_type&&eh&&(0,l.jsx)(er,{horizontalOffset:Z,name:"ai-generated-label",verticalOffset:D,children:(0,l.jsx)(en,{digitalMediaType:h.digital_media_source_type,isViewedByOwnerEmployeeOrAgency:h.is_viewed_by_owner_or_employee_or_partner_of_business||!1,shouldMoveAILabel:eI&&U})}),eg&&(0,l.jsxs)(er,{horizontalOffset:Z,name:"domain-link-button",verticalOffset:D,children:[(0,l.jsx)(o.xu,{height:"calc(100% - ".concat(48+J,"px)")}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:ev(ev({},ec(Y)),{},{opacity:+!!U,pointerEvents:U?"auto":"none"})},display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:q.Z,tabIndex:-1,children:(0,l.jsx)(ei.Z,{auxData:s,domain:c,link:f,onClick:y,pinKey:{type:"Legacy",data:h},trafficSource:T})})]}),C&&(0,l.jsx)(er,{horizontalOffset:Z,name:"tag-button",verticalOffset:D,children:(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(ew,{pin:h})})})})})]})},ek=n(516202),eO=n(995415),eC=n(846721),eT=n(573647),eA=n(979904),eE=n(102134),eD=n(890479),eZ=n(673616),eM=n(937392),eR=n(790427),eL=n(44344),eW=n(78762),eB=n(756334);function ez(e){return(ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=ez(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ez(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ez(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var eH=(0,eW.Z)(function(){return Promise.all([n.e("16914"),n.e("54782"),n.e("95853"),n.e("47820"),n.e("71309")]).then(n.bind(n,286533))},void 0,function(e){return 286533},"app-common-react-components-closeup-CloseupShuffle-CloseupShuffle",function(e){return ["16914","54782","95853","47820","71309"]}),eK=(0,v.memo)(function(e){var t=e.borderStyle,n=e.closeupWithinMasonryEnabled,i=e.imageWithPreview,r=e.peekRedesignFastFollowsEnabled,a=e.sizes,o=e.srcSet;return(0,l.jsx)(eB.Z,{metricName:"CloseupImage",children:(0,l.jsx)(eD.Z,{id:"CloseupImage",children:(0,l.jsx)(J,{borderStyle:t,dominantColor:H.yc,fit:r||n?void 0:"contain",imageWithPreview:i,sizes:a,srcSet:o})})})});function eU(e){var t,n,i,r,a,s,u=e.onImageClick,f=e.isHovered,y=e.pin,h=e.shouldPadImage,g=e.trafficSource,b=e.viewParameter,w=e.isORBACProfileManager,S=e.handleMediaButtonClick,j=(0,c.ZP)(),I=(0,eC.Z)({pinKey:{type:"Legacy",data:y}}),k=I.originalImageUrl,O=I.imageSignature,C=I.link,T=I.isScenePin,A=I.disablePinTagButton,E=I.showProductDetailPage,Z=I.maxCloseupImageWidth,M=I.imageWithPreview,R=(0,es.Z)(),L=(0,x.G)(),W=L.mainImage,B=L.carouselInfo,z=L.srcSet,F=L.srcSizes,V=(0,eE.Z)(),K=(0,eo.Z)(W).peekRedesignFastFollowsEnabled,U=(0,v.useRef)(null),G=(0,v.useRef)(null),X=y.domain,$=y.shuffle,J=!!(null!=B&&B.carouselData),Y=M.naturalWidth,q=M.naturalHeight,Q=(0,m.x4)(),ee=Q.closeupWithinMasonryEnabled,et=Q.peekCloseupEnabled,en=Q.clientTrackingParams,ei=Q.showCloseupContentRight,er=Q.viewportSize,ea=Q.setCalculatedImageHeight,el=(0,P.Z)({showProductDetailPage:!!y.is_eligible_for_pdp}),eu=(0,d.B)().isRTL;(0,v.useEffect)(function(){U.current&&ea&&ea(U.current.clientHeight)},[U,ea]);var ec=(0,v.useMemo)(function(){return M},[M]),ed=(0,v.useMemo)(function(){return(0,p.Z)({isSideBySide:ei,isPadded:h,isRTL:eu,closeupWithinMasonryEnabled:ee,peekCloseupEnabled:et})},[ei,h,eu,ee,et]).borderStyle,ep=(0,p.Z)({isSideBySide:ei,isPadded:h,isRTL:eu,closeupWithinMasonryEnabled:ee,peekCloseupEnabled:et}).borderStyle,ef=(0,_.ZP)({carouselData:null==B?void 0:B.carouselData,mainImage:W,maxCloseupImageWidth:Z,shouldPadImage:h,pinKey:{type:"Legacy",data:y}}),em=ef.containerHeight,ey=ef.containerWidth,eh=ef.horizontalOffset,eg=ef.verticalOffset,ev=function(e){if(Array.isArray(e))return e}(t=(0,v.useState)({width:ey,height:em}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eN(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eb=ev[0],e_=ev[1],eP=(0,v.useCallback)(function(){var e=ey>em?em/ey:1,t=U.current;if(t){var n=t.offsetWidth*e;e_(function(e){var i={height:t.offsetHeight||n,width:t.offsetWidth};return e.height!==i.height||e.width!==i.width?i:e})}},[em,ey]);(0,eL.Z)(eP,U);var ew=!!$&&V(),ex=(0,eZ.Z)({isHiddenPin:y.is_hidden,isUnsafePin:y.is_unsafe}),eS=(0,eO.Z)({carouselData:y.carousel_data&&{carouselSlots:y.carousel_data.carousel_slots&&y.carousel_data.carousel_slots.map(function(e){return{domain:e.domain,link:e.link}}),index:null==(n=y.carousel_data)?void 0:n.index},domain:y.domain}).currentDomain||X,ej={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(B&&B.carouselData&&B.carouselData.id){var eD=B.carouselData,eW=eD.carousel_slots,eB=void 0===eW?[]:eW,ez=eD.id,eF=eD.index,eU=void 0===eF?0:eF;a=eB[eU]&&eB[eU].link,ej.carousel_slot_id=eB[eU]&&eB[eU].id,ej.carousel_data_id=ez,ej.carousel_slot_index=eU,eS=eB[eU]&&eB[eU].domain||eS}var eG=(0,D.Z)({type:"Legacy",data:y})();eG&&(ej.commerce_data=eG.commerce_data);var eX=a||C||k||"",e$=(0,l.jsx)(eK,{borderStyle:ed,closeupWithinMasonryEnabled:ee,imageWithPreview:ec,peekRedesignFastFollowsEnabled:K,sizes:F,srcSet:z}),eJ=e$;J&&(eJ=(0,l.jsx)(N,{displayHeight:null==eb?void 0:eb.height,displayWidth:null==eb?void 0:eb.width,pinKey:{type:"Legacy",data:y}})),ew&&(eJ=(0,l.jsx)(eH,{clientTrackingParams:en,naturalHeight:q,naturalWidth:Y,pinId:y.id,shuffleId:null==$?void 0:$.id,children:(0,l.jsx)(o.xu,{width:"100%",children:e$})}));var eY=(0,H.Re)(),eq=eY.maxHeight,eQ=eY.fiftyPercentWidth,e0=eY.fiftyPercentHeight,e1=(0,eA.Z)({pinKey:{type:"Legacy",data:y}}).maxHeight,e2=(0,eT.Z)({showProductDetailPage:!!y.is_eligible_for_pdp,mainImage:W,skipAspectRatioCheck:J}).maxHeight,e6=(0,ek.Z)({carouselInfo:B,disablePinTagButton:A,domain:eS||"",hasMetTrustAndSafetyCheck:ex,isCollageEnabled:ew,isEmployee:R.isAuth&&!!R.isEmployee,isORBACProfileManager:w,isScenePin:T,navLink:eX,pinKey:{type:"Legacy",data:y},showProductDetailPage:E}),e8=e6.showCarouselControls,e3=e6.showCloseupShopDomainLinkButton,e4=e6.showDebugSignalsFeedbackButton,e7=e6.showDomainLink,e5=e6.showDomainLinkButton,e9=e6.showFlashlightButton,te=e6.showPinTagButton;return el?s=e2:ee?s=e1:K||(s="sm"===er?e0:eq),(0,l.jsxs)(o.xu,{ref:U,alignItems:"stretch",alignSelf:ee?"center":void 0,dangerouslySetInlineStyle:{__style:{aspectRatio:(0,_.GJ)(Y,q),backgroundColor:ee?void 0:H.yc}},"data-test-id":"closeup-body-image-container",display:"flex",height:ee?"100%":em,maxHeight:s,maxWidth:eQ,position:"relative",width:ee?"100%":ey,children:[(0,l.jsxs)(o.xu,{"aria-label":J?j.bt("Carousel of Pins", "Carousel of Pins", "CloseupImageContainer.section.ariaLabel", undefined, true):void 0,as:J?"section":void 0,dangerouslySetInlineStyle:{__style:eV(eV({},el?void 0:ep),{},{display:ee?"grid":"block"})},"data-test-id":"closeup-image",height:"auto",id:"closeup-image-container-".concat(y.id),overflow:"hidden",width:"100%",children:[eJ,(0,l.jsx)(eI,{auxData:ej,carouselInfo:B,domain:null!=(i=null!=(r=eS)?r:X)?i:"",handleMediaButtonClick:S,horizontalOffset:eh,imageSignature:O,isHovered:f,link:eX,maxCloseupImageWidth:Z,mediaViewerExpandButtonRef:G,onImageClick:u,pin:y,shouldPadImage:h,showCarouselControls:e8,showCarouselEllipsis:!E,showCloseupShopDomainLinkButton:e3,showDebugSignalsFeedbackButton:e4,showDomainLink:e7,showDomainLinkButton:e5,showFlashlightButton:e9,showPinTagButton:te,trafficSource:g,verticalOffset:eg,viewParameter:b})]}),G&&(0,l.jsx)(o.mh,{zIndex:eR.lI,children:(0,l.jsx)(eM.Qp,{anchor:G.current,experienceIds:[506692],flyoutSize:"md",idealDirection:"up",placementId:12,showCaret:!0,textWeight:"normal"})})]})}var eG=n(96413),eX=n(677921),e$=n(453179),eJ=n(67831),eY=n(716920),eq=n(123317),eQ=n(724084),e0=n(543561),e1=n(341742),e2=n(239728),e6=n(458460);function e8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var e4=function(e,t){return e?13799:0===t?227:228},e7=n(71157),e5=n(996434),e9=n(906498),te=n(886981),tt=n(281106),tn=n(461413),ti=n(181663),tr=n(445698),ta=n(589357);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=to(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=to(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==to(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tc(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var td={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",paddingTop:"30px",top:0};function tp(e){var t,n,i,r,a,s,u,c,f,y,h,g,b,w,S,I,k,O,C,T,A,Z,M,R,L,W,B,z,F,V,N,K,U,G,X,$,Y,q,Q,et,en,ei,er,ea,eo,eu,ec,ed,ep,ef,em,ey,eh,eg,ev,eb,e_=e.onImageClick,eP=e.isHovered,ew=e.pin,ex=e.shouldPadImage,eS=e.trafficSource,ej=e.viewParameter,eO=e.isORBACProfileManager,eT=e.handleMediaButtonClick,eE=(0,eC.Z)({pinKey:{type:"Legacy",data:ew}}),eD=eE.originalImageUrl,eM=eE.imageSignature,eR=eE.link,eL=eE.isScenePin,eW=eE.disablePinTagButton,eB=eE.maxCloseupImageWidth,ez=eE.imageWithPreview,eF=(0,es.Z)(),eV=(0,m.x4)(),eN=eV.closeupWithinMasonryEnabled,eH=eV.peekCloseupEnabled,eK=eV.viewportSize,eU=eV.clientTrackingParams,e3=eV.showCloseupContentRight,to=(0,d.B)().isRTL,tl=(0,v.useRef)(null),tc=(0,H.Re)(),tp=tc.maxHeight,tf=tc.fiftyPercentHeight,tm=tc.fiftyPercentWidth,ty=(0,eA.Z)({pinKey:{type:"Legacy",data:ew}}).maxHeight,th=tu((0,v.useState)(!1),2),tg=th[0],tv=th[1],tb=(0,P.Z)({showProductDetailPage:!!ew.is_eligible_for_pdp}),t_="enabled_idea_pin"===(0,e9.Z)().group,tP=(0,p.Z)({isSideBySide:e3,isPadded:ex,isRTL:to,closeupWithinMasonryEnabled:eN,peekCloseupEnabled:eH}).borderStyle,tw=(0,eZ.Z)({isHiddenPin:ew.is_hidden,isUnsafePin:ew.is_unsafe}),tx=(0,x.G)(),tS=tx.mainImage,tj=tx.srcSizes,tI=tx.srcSet,tk=ew.domain,tO=void 0===tk?"":tk,tC=ew.id,tT=ew.story_pin_data,tA={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},tE=(0,D.Z)({type:"Legacy",data:ew})();tE&&(tA.commerce_data=tE.commerce_data);var tD=eR||eD||"",tZ=(0,te.Z)({name:"StoryPinTaggedProductsResource",options:{id:ew.id},noCache:!0}).data,tM=(tT||{}).pages,tR=void 0===tM?[]:tM,tL=[5,6,2],tW=tR.filter(function(e){var t=null==e?void 0:e.layout;return void 0!==t&&!tL.includes(t)||(0,eX.J)(e)}),tB=(s=(t={pages:tW,viewType:3,viewParameter:ej,pinId:tC}).pages,u=t.viewType,c=t.viewParameter,f=t.pinId,y=(0,eQ.RC)().clearSeekTime,h=(0,e6.Ut)().setIdeaPinActivePage,b=(g=e8((0,v.useState)(0),2))[0],w=g[1],I=(S=e8((0,v.useState)(!0),2))[0],k=S[1],C=(O=e8((0,v.useState)(!0),2))[0],T=O[1],Z=(A=e8((0,v.useState)(!1),2))[0],M=A[1],L=(R=e8((0,v.useState)(null),2))[0],W=R[1],B=(0,j.Z)(),z=s[b],F=(0,eY.g)(),V=(0,eJ.A)(),N=(0,v.useRef)(null),U=e8(K=void 0===(K=(0,eX.w)({storyPinBlocks:(null==z?void 0:z.blocks)||[],blocksToRender:[eq.h8.VIDEO]}).blocks)?[null]:K,1)[0],X=(G=(0,eQ.Hx)().seekTimes)&&G[f],$=(null==U?void 0:U.type)===eq.h8.VIDEO&&(null==U?void 0:U.video),Y=(0,d.B)().locale.toLowerCase(),q=$&&((null==$||null==(n=$.video_list)||null==(i=n.V_720P)?void 0:i.captions_urls)||(null==$||null==(r=$.video_list)||null==(a=r.V_HLSV3_MOBILE)?void 0:a.captions_urls))||{},Q=Y&&q[Y]||Object.values(q)[0]||"",et=function(){V&&(V.addBinaryAnnotation("page.current.index",b,"I16"),V.addBinaryAnnotation("page.count",s.length,"I16"),V.addBinaryAnnotation("view.type",u,"I32"),V.addBinaryAnnotation("view.parameter",c,"I32")),(0,E.rt)("page.current.index",b,"I16"),(0,E.rt)("page.count",s.length,"I16"),(0,E.rt)("view.type",u,"I32"),(0,E.rt)("view.parameter",c,"I32")},en=(0,v.useCallback)(function(e){(0,E.sX)("startNewPwt"),V&&V.abort("startNewPwt"),F&&(F.abort("startNewPwt"),F.start(),F.addBinaryAnnotation("page.current.index",e,"I16"),F.addBinaryAnnotation("page.count",s.length,"I16"),F.addBinaryAnnotation("view.type",u,"I32"),F.addBinaryAnnotation("view.parameter",c,"I32"))},[s.length,V,F,c,u]),ei=(0,v.useCallback)(function(e){e&&e instanceof e0.B7&&(e.clear(),e=null)},[]),er=(0,v.useCallback)(function(e){ei(N.current),!$&&s.length>1&&(N.current=new e0.B7(function(e){W({currentTime:e<1?e:1,duration:1})},function(){e<s.length-1?(ei(N.current),eo(e+1)):(M(!0),k(!1))},e$.oN))},[s]),ea=(0,v.useCallback)(function(e){W({currentTime:0,duration:1}),er(e)},[er]),(0,e1.Z)(function(){return et(),ea(b),function(){N.current&&N.current instanceof e0.B7&&N.current.clear()}}),eo=(0,v.useCallback)(function(e){I||k(!0),Z&&M(!1),ea(e),e!==b&&y(),w(e),h(e),en(e)},[b,y,ea,I,h,Z,en]),(0,v.useEffect)(function(){if(Z&&M(!1),N.current&&X){var e=N.current;e.pause(),e.remaining=e$.oN-X*e2.gJ,W({currentTime:X/e$.P6,duration:1})}},[X]),eu=function(){k(!1),N.current&&N.current.pause(),B({event_type:9324,view_type:u,view_parameter:c,component:e4(Z,b),object_id_str:f,aux_data:{story_pin_page_id:b}})},ec=function(){if(k(!0),N.current){var e=N.current;X&&X>0&&y(),e.resume()}else L||ea(b);M(!1),B({event_type:9323,view_type:u,view_parameter:c,component:e4(Z,b),object_id_str:f,aux_data:{story_pin_page_id:b}})},ed=function(){b<s.length-1&&(eo(b+1),B({event_type:101,view_type:u,view_parameter:c,component:e4(Z,b),element:12261,object_id_str:f}))},{activePageIndex:b,captions:Q,currentPage:z,handleMute:function(){T(function(e){return!e})},handlePageChange:eo,handlePause:eu,handlePausePlay:function(){Z||(I?eu():ec())},handlePlay:ec,handleUpdateVideoInfo:function(e){var t,n;W({currentTime:null!=(t=null==e?void 0:e.currentTime)?t:0,duration:null!=(n=null==e?void 0:e.duration)?n:1})},handleVideoEnd:function(e){e===s.length-1&&(M(!0),k(!1),h(0)),e===b&&ed()},handleVideoScrubbingNewPage:function(e){Z&&M(!1),ea(e),w(e),h(e),en(e)},handleWatchAgain:function(){eo(0)},isActive:I,isSeeking:!!X,mute:C,progressInfo:L,setMute:T,showEndCard:Z}),tz=tB.activePageIndex,tF=tB.captions,tV=tB.currentPage,tN=tB.handleMute,tH=tB.handlePageChange,tK=tB.handlePause,tU=tB.handlePausePlay,tG=tB.handlePlay,tX=tB.handleUpdateVideoInfo,t$=tB.handleVideoEnd,tJ=tB.handleVideoScrubbingNewPage,tY=tB.handleWatchAgain,tq=tB.isActive,tQ=tB.isSeeking,t0=tB.mute,t1=tB.progressInfo,t2=tB.showEndCard,t6=(0,eX.w)({storyPinBlocks:(null==tV?void 0:tV.blocks)||[],blocksToRender:[eq.h8.IMAGE,eq.h8.VIDEO]}).blocks,t8=tu(t6=void 0===t6?[null]:t6,1)[0],t3=(null==t8?void 0:t8.type)===eq.h8.VIDEO,t4=t3||tW.length>1,t7=(0,tr.tq)({hasPin:!!ew,pages:tR}),t5=t7.fontsLoaded,t9=t7.mediaDataReceived,ne=(0,ek.Z)({disablePinTagButton:eW,domain:tO,hasMetTrustAndSafetyCheck:tw,isEmployee:eF.isAuth&&!!eF.isEmployee,isScenePin:eL,navLink:tD,pinKey:{type:"Legacy",data:ew},isORBACProfileManager:eO}),nt=ne.showCloseupShopDomainLinkButton,nn=ne.showDebugSignalsFeedbackButton,ni=ne.showDomainLink,nr=ne.showDomainLinkButton,na=ne.showFlashlightButton,no=ne.showPinTagButton,nl=(0,_.ZP)({mainImage:tS,maxCloseupImageWidth:eB,pinKey:{type:"Legacy",data:ew}}),ns=nl.containerHeight,nu=nl.containerWidth,nc=nl.horizontalOffset,nd=nl.letterBoxAspectRatio,np=nl.letterBoxedHeight,nf=nl.letterBoxedWidth,nm=nl.verticalOffset,ny=tS.height,nh=tS.width;if(null==(ep=ew.story_pin_data)?void 0:ep.is_deleted)return(0,l.jsx)(tn.Z,{color:"secondary",height:640,rounding:4,width:508});var ng=!!(null==ez||null==(ef=ez.mainImage)?void 0:ef.src)||!!(null==ez||null==(em=ez.previewImage)?void 0:em.src),nv=(null==t8?void 0:t8.type)===eq.h8.IMAGE&&ng;return eN?eb=ty:eH&&(eb="sm"===eK?tf:tp),(0,l.jsx)(o.xu,{alignSelf:eN?"center":void 0,dangerouslySetInlineStyle:{__style:ts(ts({},tb?void 0:tP),{},{aspectRatio:eN?(0,_.GJ)(nh,ny):void 0,background:H.yc})},"data-test-id":"closeup-body-image-container",height:eN?"100%":ns,maxHeight:tb?void 0:eb,maxWidth:tm,onMouseEnter:function(){t4&&tv(!0)},onMouseLeave:function(){tv(!1)},position:"relative",width:eN?"100%":nu,children:tV||t_?(0,l.jsxs)(v.Fragment,{children:[!t4&&(0,l.jsx)(eI,{auxData:tA,domain:tO,handleMediaButtonClick:eT,imageSignature:eM,isHovered:eP,link:tD,maxCloseupImageWidth:eB,mediaViewerExpandButtonRef:tl,onImageClick:e_,pin:ew,shouldPadImage:ex,showCloseupShopDomainLinkButton:nt,showDebugSignalsFeedbackButton:nn,showDomainLink:ni,showDomainLinkButton:nr,showFlashlightButton:na&&t9,showPinTagButton:no,trafficSource:eS,viewParameter:ej}),(tg||!tq)&&(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:ts(ts({},ta.Ul),{},{flexDirection:"column-reverse"})},display:"flex",height:ta.hy,paddingX:6,position:"absolute",width:"100%",zIndex:eq.Gf,children:(0,l.jsx)(ti.Z,{activePageIndex:tz,captionsUrl:tF,handleMute:tN,handlePause:tK,handlePausePlay:tU,handlePlay:tG,handleVideoScrubbingNewPage:tJ,handleWatchAgain:tY,inMilliseconds:!0,isMuted:t0,isPanelOpen:!0,isPlaying:tq,isStoryPin:!0,onPageSelect:function(e){return tH(e)},pageCount:tW.length,pages:tW,pinId:tC,progressInfo:t1,showEndCard:t2,showVideoControls:!0,viewParameter:156})}),(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ts({},td)},"data-test-id":"music-attribution",display:"flex",justifyContent:"center",overflow:"hidden",paddingY:5,position:"absolute",width:"100%",zIndex:eq.Gf,children:(0,l.jsx)(eG.Z,{handlePause:tK,handlePlay:tG,musicAttributions:null==tV?void 0:tV.music_attributions,shouldMute:null==tV?void 0:tV.should_mute,showEndCard:t2})})]}),t_&&nv?(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",height:"".concat(100,"%"),left:"".concat(0,"%"),top:"".concat(0,"%"),width:"".concat(100,"%")}},"data-test-id":"story-pin-image-block",overflow:"hidden",position:"absolute",children:(0,l.jsx)(J,{dominantColor:H.yc,imageWithPreview:ez,sizes:tj,srcSet:tI})}):(0,l.jsxs)(o.iP,{disabled:!tg||t2,fullHeight:!0,onTap:tU,children:[(0,l.jsx)(e5.Z,{activePageIndex:tz,clientTrackingParams:eU,customEndCard:!0,fontsLoaded:t5,horizontalOffset:nc,isActive:tq,muteVideos:t0,onEnded:t$,onUpdateVideoInfo:tX,ownerId:null!=(ey=null==(eh=ew.native_creator)?void 0:eh.id)?ey:"",page:tV,pageAspectRatio:nd,pageHeight:np,pageIndex:tz,pageWidth:nf,pin:ew,pinId:tC,productPins:void 0===tZ?[]:tZ,shouldLogTimeSpent:!0,stillLoading:!t9,verticalOffset:nm,videoPinProgress:t1,viewParameter:ej,viewType:3}),!t2&&!tQ&&tW.length>1&&!t3&&(0,l.jsx)(tt.Z,{playing:tq})]}),t2&&ew.native_creator&&(0,l.jsx)(el.Z,{name:"SIIPMediaContainer_VideoEndCard",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:eq.s5,children:(0,l.jsx)(e7.default,{clientTrackingParams:ew.trackingParams||ew.tracking_params,imageSrc:null!=(eg=ew.image_url)?eg:"",pinDescription:null!=(ev=ew.description)?ev:"",pinId:ew.id,rounded:!1,watchAgain:tY})})})})]}):tV?null:(0,l.jsx)(J,{dominantColor:H.yc,fit:"contain",imageWithPreview:ez})})}var tf=n(73579),tm=function(e){var t=e.isHovered,n=e.onImageClick,i=e.pin,r=e.shouldPadImage,a=e.trafficSource,o=e.viewParameter,u=e.isORBACProfileManager,c=e.handleMediaButtonClick,d=(0,tf.Z)(i.story_pin_data_id).isEligibleForStaticImageIdeaPin?(0,l.jsx)(tp,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:u,onImageClick:n,pin:i,shouldPadImage:r,trafficSource:a,viewParameter:o}):(0,l.jsx)(eU,{handleMediaButtonClick:c,isHovered:t,isORBACProfileManager:u,onImageClick:n,pin:i,shouldPadImage:r,trafficSource:a,viewParameter:o});return r?(0,l.jsx)(s,{children:d}):d},ty=n(935410),th=n(294851),tg=n(274320),tv=n(219057),tb=n(298638),t_=(0,v.lazy)(function(){return n.e("74993").then(n.bind(n,613047))}),tP=function(e){var t=e.children,n=e.name,i=e.verticalOffset,r=e.horizontalOffset;return(0,l.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",padding:"".concat(void 0===i?0:i,"px ").concat(void 0===r?0:r,"px")}},"data-test-id":"experimental-closeup-image-overlay-layer-".concat(n),left:!0,position:"absolute",right:!0,top:!0,children:t})},tw=(void 0!==a||(a=n(971203)).hash&&"89029511c11617e1150976d1002228db"!==a.hash&&console.error("The definition of 'VideoContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),tx=function(e){var t,n,i,r,a,u,c,d,p=e.closeupIsFirstPageInHistoryStack,y=e.customThumbnail,h=e.imageContainerRef,g=e.isWideVideo,b=e.pin,_=e.pinKey,P=e.shouldPadImage,w=e.flyoutShareProps,x=e.video,S=e.isORBACProfileManager,j=e.handleMediaButtonClick,k=(0,I.Z)(tw,_),O=!!b.promoter&&!b.is_downstream_promotion,C=O&&!b.is_eligible_for_web_closeup,T=b||{},A=T.access,E=T.should_mute,D=!!A&&A.includes("tag")||S,Z=(0,m.x4)().closeupWithinMasonryEnabled,M=(0,eu.K)().closeupBodyWidth,R=(0,tg.r)().checkExperiment,L=(0,tv.Z)(),W=(0,H.Re)().fiftyPercentWidth,B=(0,eA.Z)({pinKey:k}).maxHeight,z=(0,ea.Z)({isShufflePin:!!(null!=b&&b.shuffle)}).isCloseupMediaViewerEnabled,F=Math.max((null!=M?M:1)/("number"==typeof B?B:1),(null!=(t=null!=(n=null==(i=x.hls)?void 0:i.width)?n:null==x||null==(r=x.mp4)?void 0:r.width)?t:0)/(null!=(a=null!=(u=null==(c=x.hls)?void 0:c.height)?u:null==x||null==(d=x.mp4)?void 0:d.height)?a:0)),V=Z?M:f.Gg-f.d2,N=(0,v.useMemo)(function(){return z&&R("media_viewer_videos").anyEnabled},[z,R]),K=(0,l.jsxs)(tb.Z,{isVideo:!0,isWideVideo:g,shouldPadImage:P,styleOverrides:P&&!Z?{maxWidth:{maxWidth:V},minWidth:{minWidth:V},height:{},borderRadius:16}:{},variant:"default",children:[(0,l.jsx)(o.xu,{ref:h,"data-test-id":"closeup-video-with-visibility",maxHeight:B,maxWidth:W,width:"100%",children:(0,l.jsx)(th.Z,{aspectRatio:Z?F:void 0,autoplay:!L,customThumbnail:y,flyoutShareProps:w,isPromoted:O,loop:C,muted:E||p,objectFit:Z?"contain":void 0,pinId:b.id,pinKey:k,shouldMute:E,variant:"default",video:x})}),D&&(0,l.jsx)(tP,{name:"tag-button",children:(0,l.jsx)(el.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(t_,{pin:b})})})})}),N&&(0,l.jsxs)(tP,{name:"media-viewer-button",verticalOffset:136,children:[(0,l.jsx)(o.xu,{height:"100%"}),(0,l.jsx)(o.xu,{display:"flex",justifyContent:"end",paddingX:q.Z,right:!0,children:(0,l.jsx)(el.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewerButton",children:(0,l.jsx)(ee.Z,{children:(0,l.jsx)(Q.Z,{children:(0,l.jsx)(ty.default,{animateOnMount:!1,dataTestId:"media-viewer-button",icon:"maximize",imageSignature:b.image_signature,onTap:j,variant:"view-larger"})})})})})]})]});return P?(0,l.jsx)(s,{children:K}):K},tS=n(617778),tj=n(123998),tI=function(e){var t=e.clientTrackingParams,n=e.closeupIsFirstPageInHistoryStack,i=e.imageContainerRef,r=e.flyoutShareProps,a=e.isWideVideo,s=e.pin,u=e.shouldPadImage,c=e.trafficSource,d=e.isORBACProfileManager,p=e.isHovered,f=e.onImageClick,y=e.viewParameter,h=e.handleMediaButtonClick,v=(0,x.G)(),b=v.video,_=v.imgSrc,w=v.isEmbeddedVideo,S=v.isYoutubePin,j=(0,m.x4)().closeupWithinMasonryEnabled,I=(0,P.Z)({showProductDetailPage:!!s.is_eligible_for_pdp}),k=(0,tg.r)().checkExperiment,O=(0,l.jsx)(eD.Z,{id:"ContextMenuClickthroughLogging",children:(0,l.jsx)(tS.Z,{clientTrackingParams:t,hovered:p,pinKey:{type:"Legacy",data:s},viewType:3,children:(0,l.jsx)(eD.Z,{id:"ImageContent",children:(0,l.jsx)(tm,{handleMediaButtonClick:h,isHovered:p,isORBACProfileManager:d,onImageClick:f,pin:s,shouldPadImage:u,trafficSource:c,viewParameter:y})})})});b&&(O=(0,l.jsx)(eD.Z,{id:"VideoContent",children:(0,l.jsx)(tx,{closeupIsFirstPageInHistoryStack:n,customThumbnail:_,flyoutShareProps:r,handleMediaButtonClick:h,imageContainerRef:i,isORBACProfileManager:d,isWideVideo:a,pin:s,pinKey:{type:"Legacy",data:s},shouldPadImage:u,video:b})}));var C="50%";if(w){var T,A=s.attribution&&(s.attribution.author_name||s.attribution.url)?s.attribution.provider_name:null;"soundcloud"===A?C="30%":"vin"===A&&(C="100%"),O=(0,l.jsx)(eD.Z,{id:"EmbeddedVideoContent",children:(0,l.jsx)(g,{embedUrl:null==(T=s.embed)?void 0:T.src,isWideVideo:a,paddingBottom:C,shouldPadImage:u})})}var E=k("web_closeup_youtube_player").group;if(S&&["enabled","enabled_autoplay","enabled_delay","employees"].includes(E)){var Z=(0,e$.Mt)(s.link),M=["enabled_autoplay","enabled_delay"].includes(E),R="https://www.youtube.com/embed/".concat(Z,"?autoplay=").concat(+!!M,"&mute=").concat(+!!M,"&fs=0");O=(0,l.jsx)(eD.Z,{id:"EmbeddedVideoContent-2",children:(0,l.jsx)(g,{embedUrl:R,isWideVideo:a,paddingBottom:C,shouldPadImage:u})})}var L=(0,D.Z)({type:"Legacy",data:s}),W=s.is_eligible_for_pdp?L():void 0;return(0,l.jsx)(tj.Z,{auxData:W,clientTrackingParams:t,component:85,viewParameter:y,children:(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{overflow:j?"clip":void 0}},rounding:j&&!I?4:void 0,children:O})})}},846721:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i,r=n(586659);n(492996);var a=n(507438),o=n(102134),l=n(878709),s=n(821342),u=n(28427),c=n(19585),d=n(411354),p=n(453179),f=n(675973),m=n(664897),y=n(448505),h=n(7872),g=n(218831),v=n(601686);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var P=(void 0!==i||(i=n(224266)).hash&&"c3027cfec56abe15f0990c2bc6707062"!==i.hash&&console.error("The definition of 'useMediaContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function w(e){var t,n,i,w,x=e.pinKey,S=(0,c.ZP)(),j=(0,s.Z)(),I=(0,f.Z)().checkExperiment,k=(0,y.Z)(),O=(0,l.G)(),C=O.mainImage,T=O.carouselInfo,A=O.previewImage,E=O.isGif,D=O.imgSrc,Z=(0,o.Z)(),M=(0,u.Z)(P,x),R=(0,m.Z)(),L=M.aggregatedPinData,W=M.altText,B=M.autoAltText,z=M.isEligibleForPdp,F=M.isEligibleForRelatedProducts,V=M.pinner,N=M.richMetadata,H=M.trackedLink,K=M.utmLink,U=M.link,G=M.method,X=M.shuffle,$=!z&&(null==T?void 0:T.carouselData),J=!!(null!=L&&L.isShopTheLook),Y=!!X&&Z(),q=!!F&&!J&&!z&&!$&&!Y,Q=(0,h.nl)(j,k)&&I("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,ee=null==(w=M.imageSpec_orig)?void 0:w.url,et=null!=T&&T.carouselData?(n=(t=T.carouselData).carousel_slots,i=t.index,n&&void 0!==i&&(n[i]||{}).image_signature?n[i].image_signature:null):M.imageSignature,en=(0,p.Zt)({trackedLink:H,link:U,utmLink:K}),ei="catalog_bulk_create"===G||(null==N?void 0:N.products),er=en&&ei?decodeURIComponent(en):en,ea=(0,h.Ms)(j,k)===(null==V?void 0:V.username)&&Q,eo=(0,v.x4)(),el=eo.closeupWithinMasonryEnabled,es=eo.paneWidth,eu=eo.showProductDetailPage,ec=(0,g.K)().closeupBodyWidth,ed=C.height,ep=C.width,ef=(0,r.useMemo)(function(){return{naturalWidth:ep,naturalHeight:ed,alt:(0,a.Z)({altText:W,autoAltText:B,i18n:S}),src:E?D:!R&&null!=D&&D.startsWith("https://i.pinimg.com/")?(0,d.Z)(D)||(null==A?void 0:A.url)||"":(null==A?void 0:A.url)||""}},[ep,ed,W,B,S,E,R,D,null==A?void 0:A.url]),em=(0,r.useMemo)(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=b(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({naturalHeight:ef.naturalHeight,naturalWidth:ef.naturalWidth,mainImage:{alt:ef.alt,src:E?ef.src:D}},!E&&{previewImage:{alt:"",src:E?"":ef.src}})},[ef.alt,ef.naturalHeight,ef.naturalWidth,ef.src,D,E]);return{disablePinTagButton:ea,imageProps:ef,imageSignature:et,imageWithPreview:em,isScenePin:q,link:er,maxCloseupImageWidth:el&&ec||es,originalImageUrl:ee,showProductDetailPage:eu}}},71157:function(e,t,n){"use strict";n.r(t);var i=n(20256),r=n(707915),a=n(704300),o=n(521009),l=n(19585),s=n(123317),u=n(341742),c=n(382718);t.default=function(e){var t=e.clientTrackingParams,n=e.watchAgain,d=e.imageSrc,p=e.pinDescription,f=e.pinId,m=e.rounded,y=(0,l.ZP)(),h=(0,o.Z)();(0,u.Z)(function(){h({event_type:120,view_type:3,component:13799})});var g=function(){n()};return(0,c.jsx)(i.xu,{alignItems:"center",bottom:!0,color:"dark","data-test-id":"story-pin-end-card",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,opacity:.9,padding:4,position:"absolute",right:!0,rounding:void 0===m||m?s.yR:0,top:!0,width:"100%",children:(0,c.jsx)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsxs)(i.kC,{alignContent:"start",direction:"column",gap:{row:0,column:8},justifyContent:"start",children:[(0,c.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(a.default,{buttonText:y.bt("Send", "Send", "end.video.send.icon.label", undefined, true),clientTrackingParams:t,imageSrc:d,pinDescription:p,pinId:f,shownWithinMasonry:!0})}),(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(r.Z,{accessibilityLabel:y.bt("Replay button", "Replay button", "storyPin.closeup.endCard.replay", undefined, true),handleClick:g,icon:"refresh",iconColor:"white",testId:"closeup-replay-button"}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.iP,{onTap:g,rounding:2,children:(0,c.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:y.bt("Replay", "Replay", "storyPin.closeup.endCard.replay", undefined, true)})})})]})]})})})}},996434:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(20256),r=n(592821),a=n(248762),o=n(677921),l=n(123317),s=n(123998),u=n(382718);function c(e){var t,n=e.activePageIndex,c=e.clientTrackingParams,d=e.closeupStoryPinViewability,p=e.customEndCard,f=e.fontsLoaded,m=e.horizontalOffset,y=e.isActive,h=e.isPreview,g=e.muteVideos,v=e.onEnded,b=e.onFlyoutOpen,_=e.onUpdateVideoInfo,P=e.ownerId,w=e.page,x=e.pageAspectRatio,S=e.pageHeight,j=e.pageIndex,I=e.pageWidth,k=e.pin,O=e.pinId,C=e.productPins,T=e.shouldLogTimeSpent,A=e.stillLoading,E=void 0!==A&&A,D=e.verticalOffset,Z=e.videoPinProgress,M=e.viewParameter,R=e.viewType,L=(0,o.w)({storyPinBlocks:null!=(t=null==w?void 0:w.blocks)?t:[]}),W=L.nonRenderableBlocks,B=L.blocks,z=!!B.find(function(e){return e.type===l.h8.VIDEO}),F=!!B.find(function(e){return!!e.video&&e.type===l.h8.VIDEO&&e.video_signature}),V=W.find(function(e){return e.type===l.h8.MUSIC}),N=(null==V?void 0:V.type)==="story_pin_music_block"?V.provider_recording_id:void 0,H=function(){return(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:r.yc}},height:"100%",children:!h&&B.filter(function(e){return!z||F||e.type===l.h8.VIDEO}).map(function(e,t){var i,r,o=(C||[]).find(function(t){return[t.id,t.cacheable_id].includes(e.pin_id)});return(0,u.jsx)(a.Z,{activePageIndex:n,block:e,closeupStoryPinViewability:d,customEndCard:p,disableProductStickers:!0,fontsLoaded:f,horizontalOffset:m,isActive:y,isSplitLayout:(null==w?void 0:w.layout)===3,musicRecordingId:N,muteVideos:g,onEnded:v,onFlyoutOpen:b,onUpdateVideoInfo:_,ownerId:P,pageAspectRatio:x,pageHeight:S,pageIndex:j,pageWidth:I,pin:k,pinId:O,pinKey:null!=o?{type:"Legacy",data:o}:null,stillLoading:E,verticalOffset:D,videoPinProgress:Z},"".concat(null!=(i=null==w?void 0:w.id)?i:"","-").concat(null!=(r=e.type)?r:"","-").concat(t))})})};return void 0===T||T?(0,u.jsx)(s.Z,{auxData:{story_pin_page_id:j},clientTrackingParams:c,component:0===j?227:228,shouldUseGrandparentId:!0,view:R,viewParameter:M,children:H()}):H()}},677921:function(e,t,n){"use strict";n.d(t,{J:function(){return l},w:function(){return s}});var i=n(123317);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=[i.h8.COMMENT_REPLY_STICKER,i.h8.GENERIC_STICKER,i.h8.HEADING,i.h8.IMAGE,i.h8.MENTION_STICKER,i.h8.PARAGRAPH,i.h8.PRODUCT_STICKER,i.h8.VIDEO,i.h8.VTO_MAKEUP_STICKER],o=function(e){if("object"!==r(e)||null===e)return!1;var t,n=null==(t=e.image)?void 0:t.images;return!!n&&Object.keys(n).length>0},l=function(e){var t;return(null!=(t=null==e?void 0:e.blocks)?t:[]).some(function(e){return o(e)})};function s(e){var t=e.storyPinBlocks,n=e.blocksToRender,r=void 0===n?a:n,l=[],s=[],u=[];return(void 0===t?[]:t).forEach(function(e){null!=e.type&&r.includes(String(e.type))||o(e)?e.type===i.h8.PARAGRAPH||e.type===i.h8.HEADING?s.push(e):u.push(e):l.push(e)}),u.push.apply(u,s),{nonRenderableBlocks:l,textBlocks:s,blocks:u}}},573647:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(934645),r=n(611499),a=n(601686);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showProductDetailPage,n=e.mainImage,o=e.skipAspectRatioCheck,l=(0,a.x4)().viewportSize;if(!(0,i.Z)({showProductDetailPage:void 0!==t&&t}))return{maxHeight:void 0};if(!(void 0!==o&&o)&&n){var s=n.height,u=n.width;if((void 0===u?0:u)/(void 0===s?0:s)<.25)return{maxHeight:void 0}}return{maxHeight:"sm"===l?r.E$:r.Id}}},102134:function(e,t,n){"use strict";var i=n(274320),r=n(15667),a=n(647709);t.Z=function(){var e=(0,r.B)().isAuthenticated,t=(0,a.HG)(),n=(0,i.r)().checkExperiment;return function(){return e&&t&&n("auth_dweb_shuffle_renderer_closeup_v2").anyEnabled}}},629178:function(e,t,n){"use strict";var i=n(586659),r=n(963489),a=n(15667),o=n(647709),l=n(688170);t.Z=function(e){var t=e.isShufflePin,n=(0,a.B)().isAuthenticated,s=(0,o.HG)(),u=(0,l.C)((0,r.TH)());return(0,i.useMemo)(function(){return{isCloseupMediaViewerEnabled:n&&s&&u&&!t}},[n,s,u,t])}},73579:function(e,t){"use strict";t.Z=function(e){return{isEligibleForStaticImageIdeaPin:!!e}}},704300:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(586659),r=n(963489),a=n(11919),o=n(378888),l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function u(e){var t,n=e.buttonText,u=e.clientTrackingParams,c=e.imageSrc,d=e.pinDescription,p=e.pinId,f=e.shownWithinMasonry,m=(0,r.TH)(),y=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!!(0,o.mB)(m.search).share))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=y[0],g=y[1];return(0,l.jsx)(a.default,{buttonText:n,controllerOptions:{flyoutDisplayOptions:{showCaret:!0,shownWithinMasonry:f},isFlyoutOpen:h,loggingOptions:{component:228,element:10942,viewParameter:157,viewType:3},onFlyoutDismiss:function(){return g(!1)},onToggleFlyout:function(){return g(!h)},sendObject:{type:"pin",description:d,id:p,imageUrl:c,url:"/pin/".concat(p,"/"),clientTrackingParams:u}},iconColor:"white"})}},294851:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i,r=n(586659);n(872555);var a=n(890479),o=n(869985),l=n(28427),s=n(776777),u=n(863667),c=n(750092),d=n(104659),p=n(382718),f=["pauseAutoplay","pin","setCurrentVideo","videoStartTime","videosAutoplaying"];function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=m(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var x=(void 0!==i||(i=n(3449)).hash&&"60493becbbe037be854a8cd1136fede6"!==i.hash&&console.error("The definition of 'CloseupVideoWithVisibility_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),S=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&g(r,e);var t,n,i=(t=b(),function(){var e,n=_(r);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function r(){var e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return P(v(e=i.call.apply(i,[this].concat(n))),"handleVisibilityChanged",function(t){var n=e.props,i=n.pinId,r=n.isPromoted,a=n.setCurrentVideo,o=n.pauseAutoplay,l=n.videosAutoplaying,s=n.videoStartTime,u=(0,c.Z)(i,l);t&&!u?a({pinId:i,isPromoted:!!r,currentTime:s}):!t&&u&&o({pinId:i,isPromoted:!!r,currentTime:e.currentVideoCurrentTime})}),P(v(e),"handleVideoTimeChange",function(t){var n=e.props,i=n.pinId,r=n.videosAutoplaying;(0,c.Z)(i,r)&&(e.currentVideoCurrentTime=t.time)}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,i=n.appInFocus,r=n.pauseAutoplay,a=n.pinId,o=n.isPromoted,l=n.setCurrentVideo,s=n.videosAutoplaying,d=(0,c.Z)(a,s),p=(0,u.Z)(a,s);this.currentVideoCurrentTime=null!=p?p:this.currentVideoCurrentTime,i!==t&&!i&&d?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:a,isPromoted:!!o,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:a,isPromoted:!!o,currentTime:this.currentVideoCurrentTime}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.pinId,n=e.isPromoted;(0,e.pauseAutoplay)({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=(e.pauseAutoplay,e.pin),n=(e.setCurrentVideo,e.videoStartTime,e.videosAutoplaying,function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,f));return(0,p.jsx)(a.Z,{id:"VisibilityChangedWrapper",children:(0,p.jsx)(s.Z,h(h({onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1},n),{},{children:(0,p.jsx)(a.Z,{id:"CloseupVideo",children:(0,p.jsx)(o.Z,h(h({},n),{},{onTimeChange:this.handleVideoTimeChange,pinKey:t}))})}))})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(r.Component);function j(e){var t=e.pinId,n=e.pinKey,i=e.isPromoted,r=(0,l.Z)(x,n),o=(0,d.G)(),s=o.appUI,u=s.appInFocus,c=s.videosAutoplaying,f=o.pauseAutoplay,m=o.setCurrentVideo,y=c.organicVideosAutoplaying,g=c.promotedVideosAutoplaying,v=i?g[t]:y[t];return(0,p.jsx)(a.Z,{id:"CloseupVideoWithVisibilityInner",children:(0,p.jsx)(S,h(h({},e),{},{appInFocus:u,pauseAutoplay:f,pin:r,setCurrentVideo:m,videosAutoplaying:c,videoStartTime:v?v.currentTime:null}))})}},673616:function(e,t,n){"use strict";function i(e){var t=e.isHiddenPin,n=e.isUnsafePin;return!t&&!n}n.d(t,{Z:function(){return i}})},27152:function(e,t,n){"use strict";function i(e,t,n,i,r,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){i(o,r,a,l,s,"next",e)}function s(e){i(o,r,a,l,s,"throw",e)}l(void 0)})}}function a(){return(a=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var i=document.createElement("img");i.onerror=function(){return n(Error("Image failed to load with src ".concat(t)))},i.onload=function(){return e(!0)},i.src=t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return(l=r(regeneratorRuntime.mark(function e(t){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:return n=e.sent,e.next=6,n.blob();case 6:i=e.sent.type.startsWith("image/"),e.next=12;break;case 12:return e.next=14,function(e){return a.apply(this,arguments)}(t);case 14:return r=e.sent,e.abrupt("return",i&&r);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}n.d(t,{Z:function(){return o}})},411354:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(603316);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var a=function(e){var t=new Image;t.loading="lazy",t.src=e;var n=t.complete;return t.src="",n},o=["736x","564x","474x","236x"],l=new RegExp(/\/(\d+x|originals)\//);function s(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}(o);try{for(n.s();!(t=n.n()).done;){var s=t.value,u=e.replace(l,"/".concat(s,"/"));if(a(u))return(0,i.nP)("web.closeup.cached_preview_image.found",{tags:{resolution:s}}),u}}catch(e){n.e(e)}finally{n.f()}return(0,i.nP)("web.closeup.cached_preview_image.not_found"),null}},640785:function(e,t,n){"use strict";n.d(t,{NC:function(){return a},Rc:function(){return l},WK:function(){return u},X9:function(){return r},b9:function(){return i},f9:function(){return s},gu:function(){return o}});var i="pin-builder-font-faces",r="system-font-faces",a="pin-builder-education-font-faces",o="licensed",l="system",s="brand",u=4},658673:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var i=n(586659),r=n(729434),a=n(901360),o=n(592109),l=n(735201),s=n(645214),u=n(979817),c=n(868178),d=n(375730),p=n(594885),f=n(932885),m=n(986906),y=n(970773),h=n(361423);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){var i;return(i=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=g(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(0,o.XV)("PwtStopwatch"),j=function(e,t){if(h.Z){if("start"===t.type&&!e.isTiming){var n=t.name,i=t.startTime,r=t.navigationType;return(0,a.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:h.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)S("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var o=t.name||e.name;return S("ignoring action - stopwatch is not actively timing",t),(0,a.A9)("WARN.".concat(o,".noTiming.").concat(t.type)),e}if("annotate"===t.type){var p=h.Z.now();return S("adding annotation {".concat(t.label,": ").concat(p,"}")),w(w({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:p}])})}if("binaryAnnotate"===t.type)return S("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),w(w({},e),{},{binaryAnnotations:w(w({},e.binaryAnnotations),x({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var m=t.binaryAnnotationValueAndType,g=m.value,b=m.type;if(!e.binaryAnnotations[t.name])return w(w({},e),{},{binaryAnnotations:w(w({},e.binaryAnnotations),x({},t.name,{value:g,type:b}))});var _=e.binaryAnnotations[t.name].value||0;return S("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(_),"\n          operand: ").concat(String(g),"\n        }")),w(w({},e),{},{binaryAnnotations:w(w({},e.binaryAnnotations),x({},t.name,{value:g?t.operation(_,g):_,type:b}))})}if("addSubspan"===t.type){S("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&S("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var P=t.id||(0,y.Z)();-1!==e.spans.findIndex(function(e){return e.id===P})&&S("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(P,"}"));var j=0;return t.startTime?j=t.startTime:e.startTime?j=e.startTime:S("WARNING: adding subspan {".concat(t.name,"} without start time")),w(w({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:P,startTime:j,endTime:t.endTime||1/0,annotationMap:w({},t.annotations),binaryAnnotationMap:w({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){S("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&S("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var I,k=t.id||(0,y.Z)();-1!==e.spans.findIndex(function(e){return e.id===k})&&S("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(k,"}"));var O=t.parentName?null==(I=e.spans.find(function(e){return e.name===t.parentName}))?void 0:I.id:null;return w(w({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:k,parentId:t.parentId||O,startTime:h.Z.now(),endTime:1/0,annotationMap:w({},t.annotations),binaryAnnotationMap:w({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){S("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.filter(function(e){return e.name===t.name}).length>1&&(0,a.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var C=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return C>-1?(e.spans[C].endTime=h.Z.now(),t.annotations&&(e.spans[C].annotationMap=w(w({},e.spans[C].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[C].binaryAnnotationMap=w(w({},e.spans[C].binaryAnnotationMap),t.binaryAnnotations))):(0,a.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(function(e){return e.name===t.currentName}).length>1&&(0,a.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var T=e.spans.findIndex(function(e){return e.name===t.currentName});return T>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(v(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(S("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[T].name=t.newName):(0,a.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var A=e.startTime,E=e.metricId,D=e.pwtStaticContext,Z=e.annotations,M=e.binaryAnnotations,R=e.isSampled,L=e.spans,W=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),R){var B=t.stopTime||h.Z.now(),z=v(L.map(function(t){t.endTime===1/0&&(t.endTime=B);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(S("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===L.length){var F=(0,y.Z)();z.push.apply(z,[{name:"network_resources",id:F,startTime:A,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((t.customStopwatchBuffer||[]).map(function(e){return(0,d.Z)((0,u.p)(e,[]),F)}).filter(Boolean))))}var V={type:"COMPLETE",metricId:E,traceId:W,startTime:A,endTime:B,spans:z,annotationMap:w({},(0,f.Z)(Z)),binaryAnnotationMap:(0,s.ng)({metricId:E,pwtStaticContext:D,binaryAnnotations:M,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,c.Z)({metricId:E,pwtStaticContext:D,result:V})}return(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("error"===t.type){var N=t.error,H=t.stopwatchPerformanceObserver;return N&&(0,a.H)(N),H&&H.disconnect(),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var K=t.reason||"",U=e.startTime,G=e.metricId,X=e.pwtStaticContext,$=e.binaryAnnotations,J=e.traceId,Y={type:"ABORT",traceId:J,startTime:U,endTime:h.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,s.ng)({metricId:G,pwtStaticContext:X,binaryAnnotations:$,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:K};return(0,c.Z)({metricId:G,pwtStaticContext:X,result:Y}),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:J,spanNameUpdates:[]}}}return e},I=function(e){var t,n=e.name,r=e.sampleRate,a=e.navigationType,o=e.manualAndResourceSpans,s=void 0!==o&&o,u=(0,p.Z)(),c=(0,i.useRef)([]),d=(0,i.useRef)(null),f=(0,i.useRef)(null);null===f.current&&(f.current=(0,l.jf)());var y=function(e){if(Array.isArray(e))return e}(t=(0,i.useReducer)(j,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:f.current,spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||b(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=y[0],v=y[1];return u?{isTiming:g.isTiming,name:g.name,start:function(e){return window.PerformanceObserver&&(c.current=[],d.current=(0,m.Z)({entryTypes:["resource"]},function(e){c.current=c.current.concat(e.getEntries()),c.current.length>1e3&&(c.current=c.current.slice(-1e3))})),v({type:"start",startTime:e,name:n,navigationType:a,pwtStaticContext:u,isSampled:!r||Math.random()<r})},stop:function(e){return v({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,manualAndResourceSpans:s})},error:function(e){v({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:function(e){return v({type:"abort",stopTime:null===h.Z||void 0===h.Z?void 0:h.Z.now(),stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return v({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:r})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,i=e.operation,r=e.parentId,a=e.bypassIsTimingCheck;return v({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:i,parentId:r,bypassIsTimingCheck:void 0!==a&&a})},addSubspan:function(e){var t=e.name,n=e.startTime,i=e.endTime,r=e.annotations,a=e.binaryAnnotations,o=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return v({type:"addSubspan",name:t,startTime:n,endTime:i,annotations:void 0===r?{}:r,binaryAnnotations:void 0===a?{}:a,parentId:void 0===o?null:o,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var t=e.name,n=e.annotations,i=e.binaryAnnotations,r=e.parentId,a=e.parentName,o=e.id,l=e.bypassIsTimingCheck;return v({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===i?{}:i,parentId:void 0===r?null:r,parentName:void 0===a?null:a,id:void 0===o?null:o,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var t=e.name,n=e.annotations,i=e.binaryAnnotations,r=e.id,a=e.parentId,o=e.bypassIsTimingCheck;return v({type:"subspanStop",name:t,annotations:n,binaryAnnotations:i,id:r,parentId:a,bypassIsTimingCheck:void 0!==o&&o})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,i=e.bypassIsTimingCheck,r=e.updateWhenStopwatchCompletes;return v({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:void 0===r||r})},getSpans:function(e,t){return g.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return g.traceId}}:null},k=n(891631),O=n(382718),C=function(e){var t=e.name,n=e.sampleRate,o=e.abortOnUnloadOrClientNavigation,l=void 0===o||o,s=e.navigationType,u=e.manualAndResourceSpans,c=void 0!==u&&u,d=(0,r.Z)("Stopwatch_".concat(t)),p=d.Provider;return{Provider:function(e){var r=e.children,o=I({name:t,sampleRate:n,navigationType:s,manualAndResourceSpans:c}),u=(0,k.Z)(),d=u?u.time:0,f=(0,i.useRef)(!1),m=null==o?void 0:o.isTiming,y=(0,i.useCallback)(function(e){f.current?(f.current=!1,null==o||o.abort(e)):(0,a.A9)("WARN.".concat(t,".noTiming.abort"))},[o]),h=(0,i.useCallback)(function(e,t){null==o||o.annotate(e,t)},[o]),g=(0,i.useCallback)(function(e,t,n,i){null==o||o.binaryAnnotate(e,t,n,i)},[o]),v=(0,i.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,i=e.operation,r=e.parentId,a=e.bypassIsTimingCheck;null==o||o.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:i,parentId:r,bypassIsTimingCheck:a})},[o]),b=(0,i.useCallback)(function(e){var t=e.name,n=e.startTime,i=e.endTime,r=e.annotations,a=e.binaryAnnotations,l=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==o||o.addSubspan({name:t,startTime:n,endTime:i,annotations:r,binaryAnnotations:a,parentId:l,id:s,bypassIsTimingCheck:u})},[o]),_=(0,i.useCallback)(function(e){var t=e.name,n=e.annotations,i=e.binaryAnnotations,r=e.parentId,a=e.parentName,l=e.id,s=e.bypassIsTimingCheck;null==o||o.subspanStart({name:t,annotations:n,binaryAnnotations:i,parentId:r,parentName:a,id:l,bypassIsTimingCheck:s})},[o]),P=(0,i.useCallback)(function(e){var t=e.name,n=e.annotations,i=e.binaryAnnotations,r=e.id,a=e.parentId,l=e.bypassIsTimingCheck;null==o||o.subspanStop({name:t,annotations:n,binaryAnnotations:i,id:r,parentId:a,bypassIsTimingCheck:l})},[o]),w=(0,i.useCallback)(function(e){var t=e.currentName,n=e.newName,i=e.bypassIsTimingCheck,r=e.updateWhenStopwatchCompletes;null==o||o.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:i,updateWhenStopwatchCompletes:r})},[o]),x=(0,i.useCallback)(function(e,t){return o?o.getSpans(e,t):[]},[o]),S=(0,i.useCallback)(function(){return o?o.getTraceId():""},[o]),j=(0,i.useCallback)(function(e){f.current?(f.current=!1,null==o||o.error(e)):(0,a.A9)("WARN.".concat(t,".noTiming.error"))},[o]),C=(0,i.useCallback)(function(e){f.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),f.current=!0,null==o||o.start(e)},[o]),T=(0,i.useCallback)(function(e){f.current?(f.current=!1,null==o||o.stop(e)):(0,a.A9)("WARN.".concat(t,".noTiming.stop"))},[o]);(0,i.useEffect)(function(){return function(){l&&y("unloadOrClientNavigation")}},[d]);var A=(0,i.useMemo)(function(){return{name:t,isTiming:m,abort:y,addAnnotation:h,addBinaryAnnotation:g,binaryAnnotationOperation:v,addSubspan:b,subspanStart:_,subspanStop:P,getSpans:x,getTraceId:S,updateSubspanName:w,stop:T,error:j,start:C}},[m,y,h,g,v,b,_,P,x,S,w,T,j,C]);return(0,O.jsx)(p,{value:A,children:r})},get:d.useMaybeHook}}},932885:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,i){var r;return(r=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=n(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.Z=function(e){var t={};e.forEach(function(e){var n=e.label,i=e.timestamp;t=r(r({},t),{},a({},n,(t[n]||[]).concat([i])))});var n=Object.freeze({});return Object.keys(t).forEach(function(e){(t[e]||[]).forEach(function(t,i){var o=i?"".concat(e,"_").concat(i+1):e;n=r(r({},n),{},a({},o,t))})}),n}},389965:function(e,t,n){"use strict";n.d(t,{Z:function(){return eO}});var i=n(586659),r=n(963489),a=n(20256),o=n(96413),l=n(592821),s=n(996434),u=n(581722),c=n(19585),d=n(611282),p=n(776777),f=n(169053),m=n(382718);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=y(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e){var t=(0,c.ZP)(),n=e.sourceUrl,i=e.clientTrackingParams,r=e.linkText,o=e.displayUrl,l=e.image,s=e.pageId,p=e.canonicalUrl,y=e.pinId,h=e.onTouch,g=e.onClickThrough,v=e.isLoading,b={story_pin_page_id:s,story_pin_data_id:(0,u.v9)(function(t){var n,i;return e.pinId&&(null==(n=t.pins)||null==(i=n[e.pinId])?void 0:i.story_pin_data_id)}),src_url:n,canonical_url:p},_=function(){g&&g({auxData:b})},P=(0,m.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,m.jsx)(a.xu,{alignItems:"center",color:v||l&&l.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:v?(0,m.jsx)(a.xH,{accessibilityLabel:t.bt("Loading website", "Loading website", "a11y for loading spinner", undefined, true),show:!0}):function(e){if(l&&l.url){var n,i;return(0,m.jsx)(a.Ee,{alt:e,fit:"cover",naturalHeight:null!=(n=l.height)?n:1,naturalWidth:null!=(i=l.width)?i:1,src:l.url})}return(0,m.jsx)(a.JO,{accessibilityLabel:t.bt("Default link block icon", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",icon:"link",size:35})}(r)}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,m.jsx)(a.xv,{lineClamp:1,weight:"bold",children:r}),(0,m.jsx)(a.xv,{color:"shopping",size:"200",children:o})]})]}),w=(0,f.S6)()(y),x=(0,d.Z)({href:{pathname:n,state:{trackingParams:i}},target:"blank",clientTrackingParams:i,externalData:w?{pin:w&&{attributionSourceId:w.attribution_source_id,board:w.board&&{url:w.board.url},campaignId:w.campaign_id,entityId:w.id,isDownstreamPromotion:w.is_downstream_promotion,isPromoted:w.is_promoted,pinner:w.pinner&&{username:w.pinner.username},pinPromotionId:w.pin_promotion_id,promoter:w.promoter&&{entityId:w.promoter.id},storyPinDataId:w.story_pin_data_id,trackingParams:w.tracking_params,advertiserId:w.advertiser_id}}:void 0});return h?(0,m.jsx)(a.iP,{onTap:h,rounding:2,children:P}):(0,m.jsx)(a.Tg,{href:n,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),_(),x({event:t})},rel:"nofollow",rounding:2,target:"blank",children:P})},b=function(e){return(0,m.jsx)(p.Z,g(g({},e),{},{children:(0,m.jsx)(v,g({},e))}))},_=n(980787),P=n(123317),w=(0,n(78762).Z)(function(){return n.e("15564").then(n.bind(n,125734))},void 0,function(e){return 125734},"app-common-react-components-Activities-Utils-Linkify",function(e){return ["15564"]}),x=function(e){var t,n=e.block,i=e.clientTrackingParams,r=e.pageId,o=e.pinId,l=e.onClickThrough,s=(0,_.u)().logContextEvent;switch(n.type){case P.h8.LINK:var u=n.canonical_url,c=n.image,d=n.normalized_url,p=n.src_url,f=n.text,y=null==c||null==(t=c.images)?void 0:t["345x"];if(c&&p&&d&&u)return(0,m.jsx)(a.xu,{marginTop:5,children:(0,m.jsx)(b,{canonicalUrl:u,clientTrackingParams:i,displayUrl:d,image:y,linkText:void 0===f?"":f,onClickThrough:l,onVisibilityChanged:function(e){e&&s({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:o,aux_data:{story_pin_page_id:r,srcUrl:p,canonicalUrl:u}})},pageId:r,pinId:o,sourceUrl:p})});return null;case P.h8.HEADING:var h=n.text;return(0,m.jsx)(a.xu,{marginBottom:4,paddingX:2,children:(0,m.jsx)(a.X6,{accessibilityLevel:2,overflow:"normal",size:"600",children:void 0===h?"":h})});case P.h8.PARAGRAPH:var g=n.text;return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,m.jsx)(a.xv,{children:(0,m.jsxs)(w,{children:[" ",void 0===g?"":g," "]})})});default:return null}},S=n(369416),j=function(e){var t=e.blocks,n=e.clientTrackingParams,r=e.pageId,a=e.pinId,o=e.onClickThrough;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(S.Z,{unsafeCSS:"\n@media (min-height: 0) {\n  .StoryPinText {\n    padding: 15px;\n  }\n  .StoryPinText span {\n    font-size: 12px;\n  }\n  .StoryPinText h2 {\n    font-size: 18px;\n  }\n}\n\n@media (min-height: 600px) {\n  .StoryPinText {\n    padding: 2.5vh;\n  }\n  .StoryPinText span {\n    font-size: 2vh;\n  }\n  .StoryPinText h2 {\n    font-size: 3vh;\n  }\n}\n\n@media (min-height: 800px) {\n  .StoryPinText {\n    padding: 20px;\n  }\n  .StoryPinText span {\n    font-size: 16px;\n  }\n  .StoryPinText h2 {\n    font-size: 24px;\n  }\n}\n"}),(0,m.jsx)("div",{className:"StoryPinText",children:t.filter(function(e){return e}).map(function(e,t){return(0,m.jsx)(x,{block:e,clientTrackingParams:n,onClickThrough:o,pageId:r,pinId:a},t)})})]})},I=n(179639);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var O=l._B*P.ap;function C(e){var t,n,r=(0,c.ZP)(),o=e.activePageIndex,s=e.clientTrackingParams,u=e.hideText,d=e.isActive,p=e.isCoverPage,f=e.muteVideos,y=e.onClickThrough,h=e.page,g=h.image_adjusted,v=h.image,b=h.blocks,_=h.video,P=h.id,w=e.pageIndex,x=e.pageWidth,C=e.pin,T=e.pinId,A=(g||v||{}).images,E=(void 0===A?{}:A)["750x"],D=(_||{}).video_list,Z=void 0===D?{}:D,M=Z.V_HLSV3_MOBILE||Z.V_720P;if(!E&&!M)return null;var R=x/l._B;return(0,m.jsxs)(i.Fragment,{children:[!!_&&!!M&&(0,m.jsx)(I.Z,{activePageIndex:o,blockHeight:O*R,blockWidth:l._B*R,isPlaying:d,muted:f,pageIndex:w,pin:C,pinId:T,video:_}),E&&E.url&&!M&&(0,m.jsx)(a.Ee,{alt:function(e){var t,n,i,r="",a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,void 0):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}(null!=(n=e.blocks)?n:[]);try{for(a.s();!(i=a.n()).done;){var o=i.value;[1,0].includes(o.block_type)&&(r=o.text?o.text:"")}}catch(e){a.e(e)}finally{a.f()}return null!=(t=r)?t:""}(e.page)||r.bt("Story Pin image", "Story pin image", "Alt text for story pin image", undefined, true),fit:p?"cover":"contain",naturalHeight:null!=(t=E.height)?t:1,naturalWidth:null!=(n=E.width)?n:1,src:E.url}),b&&b.length>0&&!u&&(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(S.Z,{unsafeCSS:"\n.StoryPinTextDrawer {\n  background: #fff;\n  border-top-left-radius: 32px;\n  border-top-right-radius: 32px;\n  bottom: 0;\n  box-shadow: rgba(0, 0, 0, 0.1) 0 1px 20px 0;\n  box-sizing: border-box;\n\n  height: auto;\n  max-height: 15%;\n  opacity: 0.625;\n  position: absolute;\n  transition: max-height 0.15s ease-in, opacity 0.15s ease-in;\n  width: 100%;\n}\n\n.StoryPinTextDrawer:hover {\n  max-height: 70%;\n  opacity: 1;\n  overflow: scroll;\n}\n"}),(0,m.jsx)("div",{className:"StoryPinTextDrawer",children:(0,m.jsx)(j,{blocks:b,clientTrackingParams:s,onClickThrough:y,pageId:P,pinId:T})})]})]})}var T=function(e){var t=e.page,n=t.image_adjusted,r=t.blocks,o=(n||{}).images,l=(void 0===o?{}:o)["750x"];if(!l)return null;var s=l.width,u=l.height;return(0,m.jsx)(i.Fragment,{children:l&&l.url&&(0,m.jsx)(a.Ee,{alt:(null!=r?r:[]).map(function(e){return e.text||""}).join(),fit:"contain",naturalHeight:null!=u?u:1,naturalWidth:null!=s?s:1,src:l.url})})},A=n(607600),E=n(390843),D=n(886981),Z=n(885003),M=n(123998),R=n(611499),L=n(230543);function W(e){var t=e.children,n=e.clientTrackingParams,i=e.closeupStoryPinViewability,r=e.pin,a=e.productPins,o=e.viewParameter,l=e.viewType,u=(0,E.ou)(),c=u.previous,d=u.forward,p=0===c.length&&0===d.length,f=(0,L.t)();return(0,m.jsx)(Z.o,{closeupPaneWidth:R.Gg,headerHeight:f,isLandingPage:p,loadFonts:A.Z,productPins:a,renderStoryPinMediaLayout:function(e){var t=e.activePageIndex,i=e.hideText,a=e.isActive,o=e.isCoverPage,l=e.muteVideos,s=e.onClickThrough,u=e.page,c=e.pageIndex,d=e.pageWidth,p=e.pinId;return(0,m.jsx)(C,{activePageIndex:t,clientTrackingParams:n,hideText:i,isActive:a,isCoverPage:o,muteVideos:l,onClickThrough:s,page:u,pageIndex:c,pageWidth:d,pin:r,pinId:p})},renderStoryPinPage:function(e){var t=e.activePageIndex,a=e.customEndCard,u=e.fontsLoaded,c=e.isActive,d=e.muteVideos,p=e.onEnded,f=e.onFlyoutOpen,y=e.onUpdateVideoInfo,h=e.page,g=e.pageAspectRatio,v=e.pageHeight,b=e.pageWidth,_=e.ownerId,P=e.pinId,w=e.productPins,x=e.shouldLogTimeSpent,S=e.stillLoading,j=e.videoPinProgress;return(0,m.jsx)(s.Z,{activePageIndex:t,clientTrackingParams:n,closeupStoryPinViewability:i,customEndCard:a,fontsLoaded:u,isActive:c,muteVideos:d,onEnded:p,onFlyoutOpen:f,onUpdateVideoInfo:y,ownerId:_,page:h,pageAspectRatio:g,pageHeight:v,pageIndex:t,pageWidth:b,pin:r,pinId:P,productPins:w,shouldLogTimeSpent:x,stillLoading:S,videoPinProgress:j,viewParameter:o,viewType:l})},renderStoryPinSplitLayout:function(e){var t=e.page;return(0,m.jsx)(T,{page:t})},renderStoryPinText:function(e){var t=e.blocks,i=e.onClickThrough,r=e.pageId,a=e.pinId;return(0,m.jsx)(j,{blocks:t,clientTrackingParams:n,onClickThrough:i,pageId:r,pinId:a})},children:t})}function B(e){var t=e.clientTrackingParams,n=e.children,i=e.isInStream,r=e.viewType,a=e.viewParameter;return i?n:(0,m.jsx)(M.Z,{clientTrackingParams:t,component:85,view:r,viewParameter:a,children:n})}function z(e){var t=e.children,n=e.pin;return t({productPins:(0,D.Z)({name:"StoryPinTaggedProductsResource",options:{id:n.id},noCache:!0}).data||[]})}function F(e){var t,n=e.children,i=e.clientTrackingParams,r=e.closeupStoryPinViewability,a=e.pin,o=e.isInStream,l=e.viewType,s=e.viewParameter,u=!!(null!=(t=a.story_pin_data)&&t.has_product_pins),c=function(e){var t=e.productPins;return(0,m.jsx)(W,{clientTrackingParams:i,closeupStoryPinViewability:r,pin:a,productPins:t,viewParameter:s,viewType:l,children:n})};return(0,m.jsx)(B,{clientTrackingParams:i,isInStream:void 0!==o&&o,viewParameter:s,viewType:l,children:u?(0,m.jsx)(z,{pin:a,children:c}):c({productPins:[]})})}var V=n(521009),N=n(642407),H=n(355940),K=n(115247),U=n(453179),G=n(728994),X=n(776250),$=n(67831),J=n(716920),Y=n(956077),q=n(821806),Q=n(15667),ee=n(572227);function et(e){var t=e.appConfig,n=(0,c.ZP)(),r=(0,ee.Z)(),o=(0,Q.B)().isRTL;return(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!o,paddingX:4,position:"absolute",right:o,top:!0,children:"authDesktop"===t.type&&(0,m.jsx)(a.hU,{accessibilityLabel:n.bt("Back button", "Back button", "storyPin.closeup.back", undefined, true),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:function(){r({action:"click",item:"back-button"}),t.onNavigateBack()},size:"lg"})})})}var en=n(281106),ei=n(461413),er=n(181663),ea=n(445698),eo=n(724084),el=n(543561),es=n(341742),eu=n(239728),ec=n(601686),ed=n(458460),ep=n(620427);function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=ef(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ef(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ef(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eg(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eg(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ev=(0,i.lazy)(function(){return n.e("65443").then(n.bind(n,850447))}),eb=(0,i.lazy)(function(){return Promise.resolve().then(n.bind(n,71157))}),e_=(0,i.lazy)(function(){return n.e("32560").then(n.bind(n,817631))}),eP=(0,i.lazy)(function(){return Promise.all([n.e("25418"),n.e("58000"),n.e("96415")]).then(n.bind(n,377733))}),ew=(0,i.lazy)(function(){return Promise.resolve().then(n.bind(n,704300))}),ex={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},eS={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ej={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},eI=[5,6,2];function ek(e){var t,n,r,s,u,d,p,f,y=e.appConfig,h=e.clientTrackingParams,g=e.isInFocus,v=e.isInStream,b=void 0!==v&&v,_=e.isStreamMuted,w=e.isStreamPanelOpen,x=void 0===w||w,S=e.pin,j=e.storyPinData,I=e.onIdeaPinCloseupCommentClick,k=e.setStreamIsMuted,O=e.streamItemIndex,C=e.togglePanel,T=e.variant,A=e.viewType,E=void 0===A?3:A,D=e.viewParameterType,M=e.onTogglePanel,R=(0,Z.c)(),L=(0,ec.x4)(),W=L.peekCloseupEnabled,B=L.viewportSize,z=(0,c.ZP)(),F=(0,V.Z)(),K=(0,J.g)(),Q=(0,$.A)(),ee=(0,ed.Ut)(),ep=ee.setIdeaPinActivePage,ef=ee.setIdeaPinDynamicWidth,em=(0,ed.H8)().activePage,eg=(0,eo.RC)().clearSeekTime,ek=(0,eo.Hx)().seekTimes,eO=R||{},eC=eO.closeupPaneWidth,eT=eO.headerHeight,eA=eO.isLandingPage,eE=eO.renderStoryPinMediaLayout,eD=eO.renderStoryPinPage,eZ=eO.renderStoryPinSplitLayout,eM=eO.renderStoryPinText,eR=eO.productPins,eL=S.id,eW=ek&&ek[S.id],eB=!!(null!=j&&j.is_deleted),ez=j||{},eF=ez.pages,eV=void 0===eF?[]:eF,eN=ez.metadata,eH=void 0===eN?{}:eN,eK=eH.canvas_aspect_ratio,eU=eH.version,eG=null!=eK?eK:P.ap,eX=eh((0,i.useState)(0),2),e$=eX[0],eJ=eX[1],eY=(0,i.useRef)(0),eq=(0,i.useRef)(null),eQ=eh((0,i.useState)("closeup"===T&&g),2),e0=eQ[0],e1=eQ[1],e2=eh((0,i.useState)(375),2),e6=e2[0],e8=e2[1],e3="calc(100% - ".concat(32,"px)"),e4=(0,i.useRef)(null),e7=eh((0,i.useState)(!1),2),e5=e7[0],e9=e7[1],te=eh((0,i.useState)(!1),2),tt=te[0],tn=te[1],ti=eh((0,i.useState)(!0),2),tr=ti[0],ta=ti[1];(0,i.useEffect)(function(){M&&M(tr)},[tr,M]),(0,i.useEffect)(function(){ta(x)},[x]);var to=eV[e$],tl=to.should_mute,ts=void 0===tl||tl,tu=to.music_attributions,tc=eh((0,i.useState)(eA||ts),2),td=tc[0],tp=tc[1],tf=void 0!==k?k:tp,tm=void 0!==_?_:td;(0,i.useEffect)(function(){ts&&tf(!0)},[ts,tf]);var ty=eV.filter(function(e){return!eI.includes(e.layout)}),th=ty.length,tg=ty[e$],tv=D||(0,X.Z)({hasPin:!!S,hasPinRichMetadata:!!S.rich_metadata,hasPinRichMetadataProducts:!!(null!=(t=S.rich_metadata)&&t.products),hasPinRichMetadataArticle:!!(null!=(n=S.rich_metadata)&&n.article),hasPinRichMetadataRecipe:!!(null!=(r=S.rich_metadata)&&r.recipe),hasPinStoryPinData:!!S.story_pin_data}),tb=eT+64,t_=(0,G.Z)({pinKey:{type:"Legacy",data:S},maxWidth:N.Wm}).getNormalizedPinImage,tP="closeup"===T,tw=function(){if("undefined"!=typeof window){var e,t,n,i,r,a,o,l=window.innerWidth-(tr?eC:0)-216;if(tP)e8((t=(e={availableWidth:l,pageAspectRatio:eG,unavailableHeight:tb,windowInnerHeight:window.innerHeight}).availableWidth,n=e.pageAspectRatio,i=e.unavailableHeight,a=(r=e.windowInnerHeight)-i,(o=Math.min(Math.max(650,Math.min((r-i)*n,t)),1e3))/n>=a&&(o=a*n),o));else{var s=t_().width;e8(s),ef(s)}}};(0,es.Z)(function(){return window.addEventListener("resize",tw),tw(),function(){window.removeEventListener("resize",tw)}});var tx=eh((0,i.useState)(!1),2),tS=tx[0],tj=tx[1],tI=eh((0,i.useState)(null),2),tk=tI[0],tO=tI[1],tC=eh((0,i.useState)(!1),2),tT=tC[0],tA=tC[1];(0,i.useEffect)(function(){!tT&&g&&(F({event_type:7588,view_type:E,view_parameter:tv,component:13801,object_id_str:eL,aux_data:ey({},"number"==typeof O?{grid_index:O}:{})}),tA(!0))},[tT,g,F,eL,E,tv,O]);var tE=(0,i.useCallback)(function(e){var t=(eV[e]||{}).blocks,n=null==t?void 0:t.find(function(e){return 3===e.block_type});e4.current&&e4.current instanceof el.B7&&(e4.current.clear(),e4.current=null),!n&&g&&(e4.current=new el.B7(function(e){tO({currentTime:e<1?e:1,duration:1})},function(){var t="closeup"===T?e:em;t<th-1?(e4.current&&e4.current instanceof el.B7&&(e4.current.clear(),e4.current=null),tR(t+1)):(e9(!0),e1(!1))},U.oN))},[g,th,eV,em,T]),tD=function(e){tO({currentTime:0,duration:1}),tE(e)};(0,i.useEffect)(function(){eY.current=e$},[e$]),(0,i.useEffect)(function(){eq.current=e0},[e0]),(0,es.Z)(function(){return tD(e$),function(){e4.current&&e4.current instanceof el.B7&&eq.current&&e4.current.clear()}});var tZ=function(){Q&&(Q.addBinaryAnnotation("page.current.index",e$,"I16"),Q.addBinaryAnnotation("page.count",eV.length,"I16"),Q.addBinaryAnnotation("view.type",E,"I32"),Q.addBinaryAnnotation("view.parameter",tv,"I32")),(0,Y.rt)("page.current.index",e$,"I16"),(0,Y.rt)("page.count",eV.length,"I16"),(0,Y.rt)("view.type",E,"I32"),(0,Y.rt)("view.parameter",tv,"I32")},tM=function(e){Q&&(Q.abort("startNewPwt"),(0,Y.sX)("startStoryPinStepPwt")),K&&(K.abort("startNewPwt"),K.start(),K.addBinaryAnnotation("page.current.index",e,"I16"),K.addBinaryAnnotation("page.count",eV.length,"I16"),K.addBinaryAnnotation("view.type",E,"I32"),K.addBinaryAnnotation("view.parameter",tv,"I32"))};(0,es.Z)(function(){tZ()});var tR=function(e){e0||e1(!0),e5&&e9(!1),tD(e),e!==e$&&eg(),eJ(e),ep(e),tM(e)};(0,i.useEffect)(function(){if(e5&&e9(!1),e4.current&&eW){var e=e4.current;e.pause(),e.remaining=U.oN-eW*eu.gJ,tO({currentTime:eW/U.P6,duration:1})}},[eW]),(0,i.useEffect)(function(){ep(em)},[ep,em]),(0,i.useEffect)(function(){"related-products"===T&&(eJ(em),tR(em))},[em,T]);var tL=function(){return e5?13799:0===e$?227:228},tW=function(){e$<th-1&&(tR(e$+1),F({event_type:101,view_type:E,view_parameter:tv,component:tL(),element:12261,object_id_str:eL}))},tB=function(){e$===th-1&&e5?(tR(e$),F({event_type:101,view_type:E,view_parameter:tv,component:tL(),element:12260,object_id_str:eL})):e$>0&&(tR(e$-1),F({event_type:101,view_type:E,view_parameter:tv,component:tL(),element:12260,object_id_str:eL}))},tz=function(e){var t=e.keyCode,n=e.target,i=!!n&&"isContentEditable"in n&&n.isContentEditable||!!n&&"contentEditable"in n&&"true"===n.contentEditable;37!==t||i?39!==t||i||tW():tB()};(0,i.useEffect)(function(){return document.addEventListener("keydown",tz),function(){return document.removeEventListener("keydown",tz)}},[e$]);var tF=(0,ea.tq)({hasPin:!!S,pages:eV}),tV=tF.fontsLoaded,tN=tF.mediaDataReceived,tH=eU?(0,el.n4)(eU,"0.8.0"):null,tK=null!=tH&&tH>=0,tU=function(e){var t=0===e.layout;switch(e.layout){case 0:case 1:return eE({activePageIndex:e$,hideText:t,isActive:!0,isCoverPage:t,muteVideos:tm,onClickThrough:y.onClickThrough,page:e,pageIndex:e$,pageWidth:e6,pinId:eL});case 4:return e.blocks.length>0&&eM({blocks:e.blocks,pageId:"text-".concat(e$),page:e,pinId:eL,onClickThrough:y.onClickThrough});case 3:return eZ({page:e});default:return null}},tG=function(e){e===th-1&&(e9(!0),e1(!1),ep(0)),e===e$&&tW()},tX=function(e){var t,n;tO({currentTime:null!=(t=null==e?void 0:e.currentTime)?t:0,duration:null!=(n=null==e?void 0:e.duration)?n:1})},t$=function(){tn(!0),e1(!1),e4.current&&!e4.current.paused&&e4.current.pause()},tJ=function(e){var t,n;return eV[e]?tK?eD({activePageIndex:e$,fontsLoaded:tV,customEndCard:!0,isActive:e===e$&&e0,muteVideos:tm,onChangeMuteVideo:tf,onEnded:tG,onFlyoutOpen:t$,videoPinProgress:e$===e?tk:void 0,onUpdateVideoInfo:tX,ownerId:null!=(t=null==(n=S.native_creator)?void 0:n.id)?t:"",page:eV[e],pageAspectRatio:eG,pageIndex:e,pageHeight:e6/eG,pageWidth:e6,pinId:S.id,productPins:eR,shouldLogTimeSpent:g,stillLoading:!tN}):tU(tg):null},tY=function(){e1(!1),e4.current&&e4.current.pause(),F({event_type:9324,view_type:E,view_parameter:tv,component:tL(),object_id_str:eL,aux_data:{story_pin_page_id:e$}})},tq=function(){if(e1(!0),e4.current){var e=e4.current;eW&&eW>0&&eg(),e.resume()}else tk||tD(e$);F({event_type:9323,view_type:E,view_parameter:tv,component:tL(),object_id_str:eL,aux_data:{story_pin_page_id:e$}})},tQ=function(){e5||(tn(!1),e0?tY():tq())};(0,i.useEffect)(function(){"closeup"===T&&(!g||e5||e0?!g&&e0&&tY():tq())},[g,T]),(0,i.useEffect)(function(){"related-products"===T&&tY()},[]);var t0=function(){tR(0)},t1=function(){b&&C?C():ta(!0)},t2=(0,l.Re)(64),t6=t2.fiftyPercentWidth,t8=t2.fiftyPercentHeight,t3=(0,l.Re)(0,32).maxHeight,t4=(0,l.Re)().fiftyPercentWidth;return W&&(f="sm"===B?t8:t3),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tP?{top:eT,height:"calc(100vh - ".concat(eT,"px)"),position:"sticky",pointerEvents:"none",minHeight:632,maxHeight:W?f:void 0,zIndex:tr?"auto":3}:{}},display:"flex",left:!0,children:[(0,m.jsxs)(a.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",minWidth:W&&"sm"!==B?t4:void 0}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[tP&&(0,m.jsx)(a.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eB?(0,m.jsx)(ei.Z,{height:e6/P.ap,rounding:P.yR,width:e6}):(0,m.jsxs)(i.Fragment,{children:[tN&&(0,m.jsx)(a.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:function(){for(var e=[],t=1;t<=eV.length;t+=1)e$+t<eV.length&&e.push(tJ(e$+t));return e}()}),(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:tP?void 0:"".concat(P.YL,"px")}},display:"flex",onMouseLeave:function(){tj(!1)},onMouseOver:function(){return tj(!0)},position:"relative",children:(0,m.jsxs)(a.xu,{paddingX:4,children:[(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:ey(ey({},eS),{},{flexDirection:"column-reverse"})},display:"flex",height:128,paddingX:6,position:"absolute",width:e3,zIndex:P.Gf,children:(0,m.jsx)(er.Z,{activePageIndex:e$,handleMute:function(){ts||tf(!tm)},handlePanelChange:function(){ta(!tr)},handlePause:tY,handlePausePlay:tQ,handlePlay:tq,handleVideoScrubbingNewPage:function(e){e5&&e9(!1),tD(e),eJ(e),ep(e),tM(e)},handleWatchAgain:t0,inMilliseconds:!0,isMuted:tm,isPanelOpen:tr,isPlaying:e0,onPageSelect:function(e){return tR(e)},pageCount:th,pages:ty,pinId:S.id,progressInfo:tk,showEndCard:e5,showVideoControls:tS,viewParameter:tv})}),(0,m.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ey(ey({},tr?ej:{paddingLeft:"".concat(26,"px"),bottom:0}),{},{marginBottom:tr?void 0:"88px",maxWidth:t6})},"data-test-id":"music-attribution",display:"flex",justifyContent:tr?"center":"start",overflow:"hidden",paddingY:tr?5:void 0,position:"absolute",width:e6,zIndex:P.Gf,children:(0,m.jsx)(o.Z,{handlePause:tY,handlePlay:tq,musicAttributions:void 0===tu?[]:tu,shouldMute:ts,showEndCard:e5})}),!e5&&!tr&&(0,m.jsxs)(a.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:tr?{}:ex},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:e3,zIndex:P.Gf,children:[(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"row",children:[!tr&&(0,m.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(ew,{imageSrc:null!=(s=S.image_url)?s:"",pinDescription:null!=(u=S.description)?u:"",pinId:S.id})})}),!tr&&S.is_eligible_for_aggregated_comments&&(0,m.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(ev,{onCommentClick:function(){F({event_type:101,view_type:E,view_parameter:tv,component:13801,element:10944,object_id_str:S.id}),t1(),I&&I();var e=document.getElementById("canonical-card-".concat(S.id));e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!tr&&(0,m.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(eP,{clientTrackingParams:h,component:13801,iconColor:"white",pinId:S.id,reactionByMe:S.reaction_by_me,showTooltip:!0,viewParameter:tv,viewType:E})})})})]}),!tr&&(0,m.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,m.jsx)(e_,{clientTrackingParams:h,isCloseupPin:!0,onClickCallback:function(){F({event_type:101,view_type:E,view_parameter:tv,component:13801,element:0,object_id_str:S.id})},pinKey:{type:"Legacy",data:S},size:"lg"})})})})]}),(0,m.jsx)(a.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,m.jsx)(a.iP,{accessibilityLabel:e0?z.bt("Pause", "Pause", "storyPin.closeup.pauseButton.accessibilityLabel", undefined, true):z.bt("Play", "Play", "storyPin.closeup.playButton.accessibilityLabel", undefined, true),disabled:e5,onTap:tQ,rounding:P.yR,children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{maxWidth:t6,maxHeight:f}},"data-test-id":"story-pin-closeup-page",height:e6/eG,overflow:"hidden",position:"relative",rounding:P.yR,width:e6,children:[tJ(e$),!e5&&!tt&&!eW&&(0,m.jsx)(en.Z,{playing:e0}),"authDesktop"===y.type&&e5&&S.native_creator&&(0,m.jsx)(H.Z,{name:"IdeaPinCloseup_EndCard",children:(0,m.jsx)(q.Z,{children:(0,m.jsx)(a.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:P.yR,top:!0,zIndex:P.s5,children:(0,m.jsx)(eb,{clientTrackingParams:S.trackingParams||S.tracking_params,imageSrc:null!=(d=S.image_url)?d:"",pinDescription:null!=(p=S.description)?p:"",pinId:S.id,watchAgain:t0})})})})]})})})]})})]}),!b&&tP&&(0,m.jsx)(et,{appConfig:y})]}),tr&&tP&&(0,m.jsx)(a.xu,{flex:"none",height:"100%",position:"relative",width:eC,children:"duplo"===y.type&&y.storyPinDetails})]})}function eO(e){var t,n,o,l=e.pin,s=e.viewType,u=void 0===s?3:s,c=e.viewParameterType,d=eh((0,i.useState)({isInFocus:!0,viewability:0}),2),p=d[0],f=d[1],y=p.isInFocus,h=p.viewability,g=c||(0,X.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!(null!=(t=l.rich_metadata)&&t.products),hasPinRichMetadataArticle:!!(null!=(n=l.rich_metadata)&&n.article),hasPinRichMetadataRecipe:!!(null!=(o=l.rich_metadata)&&o.recipe),hasPinStoryPinData:!!l.story_pin_data}),v=(0,r.TH)(),b=e.clientTrackingParams||(0,ep.Z)(((null==v?void 0:v.state)||{}).trackingParams,l.trackingParams||l.tracking_params);return(0,m.jsx)(J.T,{children:(0,m.jsx)(K.Z,{onVisibilityChange:function(e){if(e&&e.length>0){var t=e[0].intersectionRatio;f({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:function(t){return(0,m.jsx)(a.xu,{ref:t,children:(0,m.jsx)(F,{clientTrackingParams:b,closeupStoryPinViewability:h,pin:l,viewParameter:g,viewType:u,children:y?(0,m.jsx)(M.Z,{clientTrackingParams:b,component:13801,objectId:l.id,view:u,viewParameter:g,children:(0,m.jsx)(ek,ey({},ey(ey({},e),{},{isInFocus:y})))}):(0,m.jsx)(ek,ey({},ey(ey({},e),{},{isInFocus:y})))})})}})})}},461413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(20256),r=n(19585),a=n(382718);function o(e){var t=e.height,n=e.isDenseView,o=e.rounding,l=e.width,s=e.color,u=(0,r.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:t,justifyContent:"center",overflow:"hidden",position:"relative",rounding:o,width:l,children:(0,a.jsxs)(i.kC,{alignItems:"center",direction:"column",children:[(0,a.jsx)(i.xu,{paddingY:n?2:4,children:(0,a.jsx)(i.JO,{accessibilityLabel:u.bt("Pin not available", "Pin not available", "story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel", undefined, true),color:"default",icon:"alert",size:20})}),(0,a.jsx)(i.xv,{weight:"bold",children:u.bt("Unavailable", "Unavailable", "story-pin.Closeup.UnavailableIdeaPin.Unavailable", undefined, true)}),!n&&(0,a.jsx)(i.xu,{paddingY:1,children:(0,a.jsx)(i.xv,{children:u.bt("Removed by the creator", "Removed by the creator", "story-pin.Closeup.UnavailableIdeaPin.Removed", undefined, true)})})]})})}},724084:function(e,t,n){"use strict";n.d(t,{RC:function(){return m},Hx:function(){return y},Wr:function(){return f}});var i=n(586659),r=n(729434),a=n(496406),o=n(914071),l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u=function(){return Promise.resolve().then(n.bind(n,496406))},c=(0,r.Z)("IdeaPinVideoPlayer"),d=c.Provider,p=c.get;function f(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,o.Z)(u,a.initialState))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=r[0],p=r[1],f=(0,i.useMemo)(function(){return{dispatch:p,ideaPinVideoPlayerControls:c}},[p,c]);return(0,l.jsx)(d,{value:f,children:n})}function m(){var e=p().dispatch;return(0,i.useMemo)(function(){return{updateSeekTime:function(t,n){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}},[e])}function y(){return p().ideaPinVideoPlayerControls}},496406:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return s},initialState:function(){return l}});var l={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return a(a({},e),{},{seekTimes:a(a({},e.seekTimes),{},o({},t.payload.pinId,t.payload.seekTime))});case"CLEAR_SEEK_TIME":return a(a({},e),{},{seekTimes:{}});default:return e}}},885003:function(e,t,n){"use strict";n.d(t,{c:function(){return l},o:function(){return o}});var i=n(586659),r=n(382718),a=(0,i.createContext)(null);function o(e){var t=e.children,n=e.closeupPaneWidth,o=e.headerHeight,l=e.isLandingPage,s=e.loadFonts,u=e.renderStoryPinMediaLayout,c=e.renderStoryPinSplitLayout,d=e.renderStoryPinText,p=e.renderStoryPinPage,f=e.productPins,m=(0,i.useMemo)(function(){return{closeupPaneWidth:n,headerHeight:o,isLandingPage:l,loadFonts:s,renderStoryPinMediaLayout:u,renderStoryPinSplitLayout:c,renderStoryPinText:d,renderStoryPinPage:p,productPins:f}},[n,o,l,s,u,c,d,p,f]);return(0,r.jsx)(a,{value:m,children:t})}var l=function(){return(0,i.useContext)(a)}},123317:function(e,t,n){"use strict";n.d(t,{Cc:function(){return h},DL:function(){return p},Gf:function(){return b},LX:function(){return l},Lc:function(){return _},Ls:function(){return g},Rf:function(){return d},YL:function(){return c},ap:function(){return s},h8:function(){return m},pE:function(){return f},s5:function(){return v},tQ:function(){return y},yR:function(){return u}});var i=n(20256);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i,a;i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={w:9,h:16},s=l.w/l.h,u=8,c=10,d=5e3,p=2e3;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var m={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},y=[m.IMAGE,m.VIDEO],h=o(o({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}),g=new i.Ry(1),v=new i.H3([g]),b=new i.H3([v]),_=function(e){var t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n;return"".concat(n<10?"".concat(n):n,":").concat(i<10?"0".concat(i):i)}},7525:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(586659),r=n(27152);function a(e,t,n,i,r,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(i,r)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function l(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=n[0],s=n[1];return(0,i.useEffect)(function(){function t(){var n;return n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.Z)(e);case 2:s(t.sent);case 4:case"end":return t.stop()}},t)}),(t=function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function l(e){a(o,i,r,l,s,"next",e)}function s(e){a(o,i,r,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),l}},776777:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(20256),r=n(331854),a=n(382718);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["onVisibilityChanged","children"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){var t=e.onVisibilityChanged,n=e.children,u=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,l),c=(0,r.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=o(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onVisibilityChanged:t},u));return(0,a.jsx)(i.xu,{ref:c,children:n})}},331854:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(586659),r=new Map,a=null,o=function(e){e.forEach(function(e){var t=r.get(e.target);t&&t(e)})},l=function(e){a.unobserve(e),r.delete(e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(o,i),r.set(e,n),a.observe(e)};function u(e){var t=e.onVisibilityChanged,n=e.trackFullVisible,a=e.rootMargin,o=(0,i.useRef)(null),u=!1,c=function(e){(u=e.intersectionRatio>0||e.isIntersecting)&&t(!0)},d=function(){var e;o.current instanceof HTMLElement&&(e=o.current,r.has(e))&&u&&(t(!1),u=!1)},p=(0,i.useCallback)(function(e){o.current instanceof HTMLElement&&s(o.current,e,function(e){if(r.has(o.current)){var t=n?e.intersectionRatio>=1:e.intersectionRatio>=.5,i=n?0===e.intersectionRatio:!t;!u&&t?c(e):u&&i&&d()}})},[o.current]);return(0,i.useEffect)(function(){return p(a),function(){o.current instanceof HTMLElement&&(d(),l(o.current))}},[p]),o}},863667:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,a;r=t,a=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t){var n=t.organicVideosAutoplaying,i=t.promotedVideosAutoplaying,r=t.videoCarouselModuleAutoplaying,o=a(a(a({},n),i),r);return o[e]&&o[e].currentTime}n.d(t,{Z:function(){return o}})},458460:function(e,t,n){"use strict";n.d(t,{H8:function(){return y},Ut:function(){return m},fr:function(){return f}});var i=n(586659),r=n(729434),a=n(914071),o=n(987765),l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u=function(){return n.e("77027").then(n.bind(n,145581))},c=(0,r.Z)("IdeaPin"),d=c.Provider,p=c.get;function f(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(u,o.Z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,u=!1;try{for(a=(n=n.call(e)).next;!(s=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=r[0],p=r[1],f=(0,i.useMemo)(function(){return{dispatch:p,ideaPin:c}},[p,c]);return(0,l.jsx)(d,{value:f,children:n})}function m(){var e=p().dispatch;return(0,i.useMemo)(function(){return{setIdeaPinActivePage:function(t){e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:function(t){e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}},[e])}function y(){return p().ideaPin}},987765:function(e,t){"use strict";t.Z={activePage:0,dynamicWidth:0}},688170:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{C:function(){return r},_:function(){return l}});var r=function(e){return!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname)},a=function(e){var t=e.pathname;return/^\/search\/pins\//.test(t)},o=function(e){var t=e.pathname,n=e.search,i=/^\/search\/pins\/(\?.*)$/.exec(t),r=(n||i&&i[1]||"").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){return"q"===e[0]});return r?decodeURIComponent(r[1]):""},l=function(e){var t=((function(e){if(Array.isArray(e))return i(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().find(function(e){var t=e.location;return t&&!r(t)});return t&&t.location&&a(t.location)?o(t.location):""}},298638:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(20256),r=n(934645),a=n(15667),o=n(85574),l=n(611499),s=n(601686),u=n(382718);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){var t,n,p,f=e.children,m=e.isVideo,y=e.isWideVideo,h=e.shouldPadImage,g=e.styleOverrides,v=void 0===g?{}:g,b=e.variant,_=(0,s.x4)(),P=_.showCloseupContentRight,w=_.viewportSize,x=_.paneWidth,S=_.closeupWithinMasonryEnabled,j=_.peekCloseupEnabled,I=_.showProductDetailPage,k=(0,a.B)(),O=(0,r.Z)({showProductDetailPage:I}),C="default"===b;if(!(!S&&(P&&"lg"===w||C||y)))return(0,u.jsx)(i.xu,{children:f});var T=(0,o.Z)({isSideBySide:P&&!y,isPadded:h,isRTL:k.isRTL,closeupWithinMasonryEnabled:S,peekCloseupEnabled:j}).borderStyle,A=y?l.KP:x,E=y?l.KP:496,D=(null==(t=v.height)?void 0:t.height)||"100%",Z=(null==(n=v.maxWidth)?void 0:n.maxWidth)||A,M=(null==(p=v.minWidth)?void 0:p.minWidth)||x;return(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var i,r;i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=c(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderRadius:O||S?void 0:v.borderRadius||T.borderRadius},h&&void 0!==m&&m?{overflow:"hidden"}:{})},display:C?"flex":void 0,flex:C&&y?"grow":void 0,height:C?D:void 0,justifyContent:C?"center":void 0,marginBottom:C?void 0:6,marginEnd:C?void 0:6*!y,maxWidth:C?Z:E,minWidth:C?M:344,rounding:C?void 0:2,children:f})}},44344:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(586659),r=n(675973),a=n(15667),o=n(647709),l=n(603316);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=s(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var c=function(){var e;function t(){var e,n,i=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");e="callbacks",n=new Map,(e=u(e))in this?Object.defineProperty(this,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[e]=n,this.observer=new ResizeObserver(function(e){e.forEach(function(e){var t=i.callbacks.get(e.target);t&&t.forEach(function(t){return t(e.target)})})})}return e=[{key:"observe",value:function(e,t){this.callbacks.has(e)||(this.callbacks.set(e,new Set),this.observer.observe(e)),this.callbacks.get(e).add(t)}},{key:"unobserve",value:function(e,t){var n=this.callbacks.get(e);n&&(n.delete(t),0===n.size&&(this.callbacks.delete(e),this.observer.unobserve(e)))}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),d=null;function p(e,t){var n,s,u,p,f=(0,r.Z)().checkExperiment("closeup_web_resize_observer_optimization"),m=f.anyEnabled,y=f.group,h=(0,a.B)().isAuthenticated,g=(0,o.ZP)(),v=(0,i.useCallback)(function(t){var n=performance.now();e(t);var i=performance.now();(0,l.nP)("closeup.www.resizeObserverCallback",{sampleRate:.1,tags:{isAuthenticated:h,deviceType:g,resizeObserverOptimizationExp:y,duration:Math.round(i-n)}})},[e,h,g,y]);n=m?null:v,(0,i.useEffect)(function(){if(!t.current||!n)return function(){};var e=t.current;if("ResizeObserver"in window){var i=new ResizeObserver(function(t){Array.isArray(t)&&t.length&&n(e)});return i.observe(e),function(){return i.unobserve(e)}}var r,a=e.clientHeight,o=e.clientWidth;return!function t(){var i=e.clientHeight,l=e.clientWidth;(a!==i||o!==l)&&(a=i,o=l,n(e)),r=window.requestAnimationFrame(t)}(),function(){return window.cancelAnimationFrame(r)}},[t,n]),s=m?v:null,(u=(0,i.useRef)(s)).current=s,p=(0,i.useCallback)(function(e){var t;null==(t=u.current)||t.call(u,e)},[]),(0,i.useEffect)(function(){if(t.current){var e="undefined"!=typeof window&&"ResizeObserver"in window?(d||(d=new c),d):null;if(!e)return void(0,l.nP)("closeup.www.resizeObserverCallback.noResizeObserver",{sampleRate:.1,tags:{isAuthenticated:h,deviceType:g}});var n=t.current;return e.observe(n,p),function(){e.unobserve(n,p)}}},[t,p,h,g])}},238187:function(e,t,n){"use strict";function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function a(e){var t,n=[],r="",a=i(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(r){var l=!!o.match(/\s/),s=!!r.match(/\s/);if(l===s)r+=o;else if(!s&&r.includes("-")){for(var u=0,c=0;c<r.length;c+=1)"-"===r[c]&&(n.push(r.substring(u,c+1)),u=c+1);n.push(r.substring(u)),r=o}else n.push(r),r=o}else r=o}}catch(e){a.e(e)}finally{a.f()}return r.length&&n.push(r),n}function o(e){var t,n,r=e.boxHeight,o=e.boxWidth,l=e.font,s=e.startFontSize,u=e.text;if("undefined"==typeof document||!document.body)return{fontSize:s,lines:[]};var c=document.body,d=document.createElement("div");c.appendChild(d);var p=null==u?void 0:u.split(/\r?\n/g),f=s,m={letterSpacing:(null==(t=l.fontOverrides)?void 0:t.letterSpacing)!=null?"".concat(l.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null==(n=l.fontOverrides)?void 0:n.lineHeight)||1.1),fontFamily:l.fontFamily,fontSize:"".concat(f,"px"),position:"absolute",visibility:"hidden",width:"".concat(o,"px")};Object.assign(d.style,m);var y=document.createElement("div");for(y.style.display="inline",d.appendChild(y),(null!=p?p:[]).forEach(function(e,t){var n=document.createElement("span");n.style.wordBreak="break-word",y.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=u?u:"").length-1&&n.appendChild(document.createElement("br"))});(y.offsetHeight>r||y.offsetWidth>o)&&f>0;)f-=1,d.style.fontSize="".concat(f,"px");return y.remove(),d.remove(),{fontSize:f,lines:f>0?function(e){var t=e.font,n=e.fontSize,r=e.textList,o=e.width;if("undefined"==typeof document||!document.body||o<=0||n<=0)return[];var l=document.body,s=document.createElement("div");l.appendChild(s);var u={letterSpacing:(null==(p=t.fontOverrides)?void 0:p.letterSpacing)!=null?"".concat(t.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null==(f=t.fontOverrides)?void 0:f.lineHeight)||1.1),fontFamily:t.fontFamily,fontSize:"".concat(n,"px"),visibility:"hidden"};Object.assign(s.style,u);var c=document.createElement("div");c.style.display="inline",s.appendChild(c);var d=document.createTextNode("");c.appendChild(d);var p,f,m,y=[],h="",g=function(e){var t=e.trim();return d.textContent=t,{text:t,width:c.offsetWidth}},v=function e(t){var n=!!t.match(/\s/),r=0===h.length;if(d.textContent="".concat(h).concat(t),c.offsetWidth>o)if(n)y.push(g(h)),h="";else if(r){var a,l=i(t);try{for(l.s();!(a=l.n()).done;){var s=a.value;e(s)}}catch(e){l.e(e)}finally{l.f()}}else y.push(g(h)),h="",e(t);else h+=t},b=i(null!=r?r:[]);try{for(b.s();!(m=b.n()).done;){var _=m.value;0===_.length&&y.push(g(h)),a(_).forEach(function(e){return v(e)}),h.length&&(y.push(g(h)),h="")}}catch(e){b.e(e)}finally{b.f()}return c.remove(),s.remove(),y}({font:l,fontSize:f,textList:p,width:o}):[]}}function l(e){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),i=parseFloat(t.getPropertyValue("font-size").replace("px","")),r=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(r)&&(r=1.2*i),Math.ceil(n/r)}n.d(t,{KV:function(){return o},Yd:function(){return a},xW:function(){return l}})},47676:function(e,t,n){"use strict";n.d(t,{Af:function(){return c},Ei:function(){return s},II:function(){return b},Lh:function(){return y},U:function(){return f},Zy:function(){return l},dD:function(){return a},er:function(){return m},hb:function(){return g},in:function(){return u},j7:function(){return h},kX:function(){return d},mx:function(){return v},n5:function(){return o},q8:function(){return p},xH:function(){return r}});var i=n(123317),r=1048576,a=3,o=20,l=3,s=10,u=50,c=10,d=1200,p=375,f=375/i.ap,m=4096,y="#FFFFFF",h={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},g=420,v=325,b=768},654262:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(663158),r=n(947631);function a(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(0,0,0,0),t}},33357:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function i(){a(r)&&r.a.parentNode&&n(r.g)}var r=e;t(e.b,i),t(e.c,i),a(e)}function l(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,u=null,c=null,d=null;function p(){return null===d&&(d=!!document.fonts),d}function f(e,t){return[e.style,e.weight,!function(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}()?"":e.stretch,"100px",t].join(" ")}l.prototype.load=function(e,t){var i=this,a=e||"BESbswy",l=0,c=t||3e3,d=new Date().getTime();return new Promise(function(e,t){if(p()&&!function(){if(null===u)if(p()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);u=!!e&&603>parseInt(e[1],10)}else u=!1;return u}()){var m,y=new Promise(function(e,t){!function n(){new Date().getTime()-d>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(f(i,'"'+i.family+'"'),a).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){l=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),y]).then(function(){clearTimeout(l),e(i)},t)}else m=function(){function u(){var t;(t=-1!=h&&-1!=g||-1!=h&&-1!=v||-1!=g&&-1!=v)&&((t=h!=g&&h!=v&&g!=v)||(null===s&&(s=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(h==b&&g==b&&v==b||h==_&&g==_&&v==_||h==P&&g==P&&v==P)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(l),e(i))}var p=new n(a),m=new n(a),y=new n(a),h=-1,g=-1,v=-1,b=-1,_=-1,P=-1,w=document.createElement("div");w.dir="ltr",r(p,f(i,"sans-serif")),r(m,f(i,"serif")),r(y,f(i,"monospace")),w.appendChild(p.a),w.appendChild(m.a),w.appendChild(y.a),document.body.appendChild(w),b=p.a.offsetWidth,_=m.a.offsetWidth,P=y.a.offsetWidth,function e(){if(new Date().getTime()-d>=c)w.parentNode&&w.parentNode.removeChild(w),t(Error(""+c+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(h=p.a.offsetWidth,g=m.a.offsetWidth,v=y.a.offsetWidth,u()),l=setTimeout(e,50)}}(),o(p,function(e){h=e,u()}),r(p,f(i,'"'+i.family+'",sans-serif')),o(m,function(e){g=e,u()}),r(m,f(i,'"'+i.family+'",serif')),o(y,function(e){v=e,u()}),r(y,f(i,'"'+i.family+'",monospace'))},document.body?m():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),m()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),m())})})},"object"===i(e)?e.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)}()}}]);